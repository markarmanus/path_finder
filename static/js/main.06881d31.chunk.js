(this.webpackJsonppath_finder=this.webpackJsonppath_finder||[]).push([[0],{142:function(e,t,n){e.exports=n(229)},147:function(e,t,n){},229:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(5),o=n.n(i),s=(n(147),n(136)),l=n(46),c=n(57),u=n(25),h=n(31),p=n(34),d=n(32),f=n(9),m=n(35),x=n(10),y=n(66),v=n(11),g={OBSIDIAN:1,LAVA:2,PLAYER_RUNNING:3,PLAYER_IDLE:4,PLAYER_UP:5,PLAYER_DOWN:6,THIEF_IDLE:7,THIEF_UP:8,THIEF_DOWN:9,THIEF_RUNNING:10,WALL:11,HEALTH_PACK:12,TRANSPARENT:13},S={1:{animationSpeed:null,animated:!1,spriteWidth:"100px",spriteHeight:"100px",numberOfSprites:1,src:"obsidian.png"},2:{animationSpeed:null,animated:!1,spriteWidth:"100px",spriteHeight:"100px",numberOfSprites:1,src:"lava.jpg"},3:{animationSpeed:"0.3s",animated:!0,spriteWidth:"32px",spriteHeight:"32px",numberOfSprites:4,src:"Character_Right.png"},4:{animationSpeed:null,animated:!1,spriteWidth:"32px",spriteHeight:"32px",numberOfSprites:1,src:"Character_Idle.png"},5:{animationSpeed:"0.5s",animated:!0,spriteWidth:"32px",spriteHeight:"32px",numberOfSprites:4,src:"Character_Up.png"},6:{animationSpeed:"0.5s",animated:!0,spriteWidth:"32px",spriteHeight:"32px",numberOfSprites:4,src:"Character_Down.png"},7:{animationSpeed:null,animated:!1,spriteWidth:"32px",spriteHeight:"32px",numberOfSprites:1,src:"Character_Idle.png"},8:{animationSpeed:"0.5s",animated:!0,spriteWidth:"32px",spriteHeight:"32px",numberOfSprites:4,src:"Character_Up.png"},9:{animationSpeed:"0.5s",animated:!0,spriteWidth:"32px",spriteHeight:"32px",numberOfSprites:4,src:"Character_Down.png"},10:{animationSpeed:"0.3s",animated:!0,spriteWidth:"32px",spriteHeight:"32px",numberOfSprites:4,src:"Character_Right.png"},11:{animationSpeed:null,animated:!1,spriteWidth:"10px",spriteHeight:"10px",numberOfSprites:1,src:"wall.png"},12:{animationSpeed:"0.3s",animated:!0,spriteWidth:"10px",spriteHeight:"10px",numberOfSprites:4,src:"Character_Right.png"},13:{animationSpeed:null,animated:!1,spriteWidth:"10px",spriteHeight:"10px",numberOfSprites:1,src:"Transparent.png"}};function E(){var e=Object(x.a)(["\n  width: 100%;\n  position: relative;\n  background-color: #e03836;\n  margin: auto;\n  border-radius: 10px;\n  transition: right 0.5s;\n  right: ","%;\n  height: ","px;\n"]);return E=function(){return e},e}function b(){var e=Object(x.a)(["\n  width: 80%;\n  position: relative;\n  background-color: #661918;\n  margin: auto;\n  border-radius: 10px;\n  height: ","px;\n  overflow: hidden;\n"]);return b=function(){return e},e}function L(){var e=Object(x.a)(["\n  width: ","%;\n  height: 100%;\n  background-image: url(",");\n  background-size: 100%, 100%;\n  background-repeat: ",";\n  animation: ","\n    ","\n    steps(",")\n    ",";\n  position: absolute;\n  user-select: none;\n\n  left: 0;\n  top: 0;\n"]);return L=function(){return e},e}function O(){var e=Object(x.a)(["\n  from { \n    transform: translateX(0); \n  }\n  to { \n    transform: translateX(-","%); \n  }\n}\n"]);return O=function(){return e},e}var T=v.a.div(L(),(function(e){return 100*e.textureData.numberOfSprites}),(function(e){return e.textureData.src}),(function(e){return e.textureData.animated?"no-repeat":"unset"}),(function(e){return function(e){var t=(e-1)/e*100;return Object(v.b)(O(),t)}(e.textureData.numberOfSprites)}),(function(e){return e.textureData.animationSpeed}),(function(e){return e.textureData.numberOfSprites-1}),(function(e){return e.textureData.animated?"infinite":0})),C=v.a.div(b(),(function(e){return.1*e.textureSize})),M=v.a.div(E(),(function(e){return 100-e.healthBarPercentage}),(function(e){return.1*e.textureSize})),w=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={},n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"shouldComponentUpdate",value:function(e){return e.texture!==this.props.texture||e.textureSize!==this.props.textureSize||e.x!==this.props.x||e.y!==this.props.y||e.xOffset!==this.props.xOffset||e.yOffset!==this.props.yOffset||e.healthBarPercentage!==this.props.healthBarPercentage}},{key:"render",value:function(){var e=this.props,t=e.yOffset,n=e.xOffset,a=e.y,i=e.x,o=e.onMouseDown,s=e.onMouseUp,l=e.onMouseHoverTextureEnter,c=e.onMouseHoverTextureLeave,u=e.texture,h=e.zIndex,p=e.textureSize,d=e.healthBarPercentage,f=(e.type,S[u]);return r.a.createElement("div",{style:{position:"absolute",height:p+"px",width:p+"px",top:t?a*p+t:a*p,left:n?i*p+n:i*p,zIndex:h,overflow:"hidden",userSelect:"none"}},void 0!==d?r.a.createElement(C,{textureSize:p},r.a.createElement(M,{healthBarPercentage:d,textureSize:p})):null,r.a.createElement(T,{textureData:f,onMouseDown:o,onMouseUp:s,onMouseEnter:l,onMouseLeave:c,onTouchMove:l,onTouchEnd:s,onTouchStart:o}))}}]),t}(a.Component),k="player",P="thief",H="overLay",A="texture",j="health",D="speed",R={DEFAULT_PLAYER_SPEED:1,DEFAULT_THIEF_SPEED:0,DEFAULT_PLAYER_HEALTH:5,DEFAULT_THIEF_HEALTH:100,MAIN_APP_COLOR:"#1b2a41",DEFAULT_SELECTED_LEVEL:1,DEFAULT_SEARCH_PRIORITY:j,EDITING_BORDER:"5px solid purple"};function z(){var e=Object(x.a)(["\n  position: absolute;\n"]);return z=function(){return e},e}var _=v.a.div(z()),I=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={walking:!1,currentTexture:g[e.type.toUpperCase()+"_IDLE"],currentMovementSpeed:n.props.movementSpeed},n.takeAction=n.takeAction.bind(Object(f.a)(n)),n.setCorrectTexture=n.setCorrectTexture.bind(Object(f.a)(n)),n.setCorrectDirection=n.setCorrectDirection.bind(Object(f.a)(n)),n.doNextAction=n.doNextAction.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"doNextAction",value:function(){var e=this.props.getNextAction(this.props.type),t=this.props.type.toUpperCase();0!==e[0]||0!==e[1]?(this.setState({walking:!0}),this.takeAction(e)):this.state.currentTexture!==g[t+"_IDLE"]&&this.setState({currentTexture:g[t+"_IDLE"]})}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"onClickRestart",value:function(){var e=document.getElementById(this.props.type);e.style.left=0,e.style.top=0,this.setState({currentTexture:g[this.props.type.toUpperCase()+"_IDLE"]})}},{key:"componentDidUpdate",value:function(){!this.state.walking&&this.props.inProgress&&!this.props.paused&&this.props.renderOnScreen&&this.doNextAction()}},{key:"setCorrectTexture",value:function(e){var t=this.props.type.toUpperCase(),n=-1===e[1]&&0===e[0]?g[t+"_UP"]:1===e[1]&&0===e[0]?g[t+"_DOWN"]:g[t+"_RUNNING"];this.setState({currentTexture:n})}},{key:"setCorrectDirection",value:function(e,t){null!==e&&(-1===t[0]?e.style.transform="scaleX(-1)":e.style.transform="scaleX(1)")}},{key:"takeAction",value:function(e){this.setCorrectTexture(e);var t=document.getElementById(this.props.type);this.setCorrectDirection(t.firstChild,e);var n=Math.floor(this.props.textureSize/this.props.movementSpeed),a=this.props.textureSize%this.props.movementSpeed,r=0;this.setState({currentMovementSpeed:this.props.movementSpeed});var i=setInterval(function(){r!==n&&this.props.inProgress?(r++,t.style.left=t.offsetLeft+e[0]*this.state.currentMovementSpeed+"px",t.style.top=t.offsetTop+e[1]*this.state.currentMovementSpeed+"px"):(clearInterval(i),t.style.left=t.offsetLeft+e[0]*a+"px",t.style.top=t.offsetTop+e[1]*a+"px",this.props.onCharacterFinishMove(this.props.type,e),this.setState({walking:!1}))}.bind(this),0)}},{key:"render",value:function(){var e=this.props,t=e.initialCharacterLocation,n=e.type,a=e.textureSize,i=e.xOffset,o=e.yOffset,s=e.onPlaceCharacter,l=e.renderOnScreen,c=e.healthBar,u=e.currentHealth,h=e.maxHealth,p=c?u/h*100:void 0;return r.a.createElement(_,{id:n},null!==t&&l?r.a.createElement(w,{x:t[0],y:t[1],healthBarPercentage:p,textureSize:a,xOffset:i,yOffset:o,type:n,zIndex:2,onMouseDown:function(){return s(n)},texture:this.state.currentTexture}):null)}}]),t}(a.Component),W=function(e,t){var n=t[0]-e[0],a=t[1]-e[1];return 100*Math.sqrt(n*n+a*a)},N=function(e,t,n,a){var r={x:e+n[0],y:t+n[1]},i=function(e){return e[0]+e[1]===0||2===Math.abs(e[0]+e[1])?"diagonal":"cardinal"}(n);if(F(r,a.gridWidth,a.gridHeight))return!1;var o=a.texturesMap[r.y*a.gridWidth+r.x]===g.WALL;if("diagonal"===i){var s=a.texturesMap[t*a.gridWidth+r.x]===g.WALL,l=a.texturesMap[r.y*a.gridWidth+e]===g.WALL;return!(s||l||o)}return!o},U=function(e){for(var t=e.action,n=e.parent;null!==n&&null!==n.action;)t=n.action,n=n.parent;return t},F=function(e,t,n){return e.x<0||e.y<0||e.x>=t||e.y>=n},B=function e(t,n,a,r,i,o,s){Object(u.a)(this,e),this.x=t,this.y=n,this.health=a,this.action=i,this.parent=r,this.g=o,this.h=s},Y=function(e,t,n){var a=[[0,1],[0,-1],[1,0],[-1,0]];if(t.allowDiagonalActions&&(a=a.concat([[1,1],[-1,1],[1,-1],[-1,-1]])),n===P)return function(e,t,n){if(0===n.thiefSpeed)return[0,0];for(var a=[0,0],r=t.currentThiefLocation,i=t.currentPlayerLocation,o=W(r,i),s=0;s<e.length;s++){var l=e[s];if(N(r[0],r[1],l,t)){var c=[r[0]+l[0],r[1]+l[1]],u=W(c,i);u>o&&(o=u,a=l)}}return a}(a,e,t);var r=e.currentPlayerLocation,i=e.currentThiefLocation,o=!1,s=null,l=0;if(r[0]===i[0]&&r[1]===i[1])return[0,0];var c=[100,100,100,100,144,141,141,141],u=Object(y.a)(new Array(e.gridWidth*e.gridHeight)).map((function(){return new Array(t.playerMaxHealth).fill(!1)})),h=[];h.push(new B(r[0],r[1],e.currentPlayerHealth,null,null,0,W(r,i)));for(var p=function(){if(0===h.length)return o?{v:U(s)}:{v:[0,0]};var n=h.pop();if(n.x===i[0]&&n.y===i[1]){if(n.health===t.playerMaxHealth||t.searchPriority===D)return{v:U(n)};n.health>l&&(o=!0,l=n.health,s=n)}return u[n.y*e.gridWidth+n.x][n.health-1]?"continue":(u[n.y*e.gridWidth+n.x][n.health-1]=!0,n.health<=0?"continue":void a.forEach((function(a,r){if(N(n.x,n.y,a,e)){var o={x:n.x+a[0],y:n.y+a[1]},s=n.g+c[r],l=W([o.x,o.y],i),u=e.overLayMap[o.y*e.gridWidth+o.x]===g.HEALTH_PACK,p=e.texturesMap[o.y*e.gridWidth+o.x]===g.LAVA,d=u?t.playerMaxHealth:p?n.health-1:n.health;p&&!u&&(s+=20),function(e,t){for(var n=!1,a=0;a<t.length;a++){var r=t[a];if(e.x===r.x&&e.y===r.y&&e.g>=r.g&&e.health<=r.health){n=!0;break}}if(!n)for(var i=e.g+e.h,o=0;o<t.length;o++){var s=t[o];if(i>=s.g+s.h){n=!0,t.splice(o,0,e);break}}n||t.push(e)}(new B(o.x,o.y,d,n,a,s,l),h)}})))};;){var d=p();switch(d){case"continue":continue;default:if("object"===typeof d)return d.v}}},G=n(45),X=n(230),V=n(232),K=n(72),J=n.n(K),q=function(e){var t=e.screen.height-300,n=e.screen.width;return(t>n?t:n)/20},Z=function(e){var t=e.screen.height-300,n=e.screen.width;return Math.floor(Math.min.apply(Math,[t/4,n/4]))},$=function(e){var t=e.screen.height-300,n=e.screen.width;return Math.floor(Math.max.apply(Math,[t/50,n/50]))};function Q(){var e=Object(x.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 10px;\n  cursor: pointer;\n"]);return Q=function(){return e},e}function ee(){var e=Object(x.a)(["\n  color: white !important;\n  margin-bottom: 5px;\n"]);return ee=function(){return e},e}function te(){var e=Object(x.a)(["\n  position: absolute !important;\n  transform: ",";\n  transition: transform 1s;\n  left: 68px;\n  &:focus,\n  &:active {\n    color: white !important;\n    border-color: white !important;\n  }\n  &:hover {\n    color: #40a9ff !important;\n    border-color: #40a9ff !important;\n  }\n  top: 25px;\n"]);return te=function(){return e},e}function ne(){var e=Object(x.a)(["\n  width: 80px;\n  height: 380px;\n  position: absolute;\n  display: flex;\n  padding: 15px 0;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: column;\n  left: ","px;\n  transition: left 1s;\n  top: ","px;\n  border-radius: 10px;\n  z-index: 4;\n  background-color: ",";\n"]);return ne=function(){return e},e}function ae(){var e=Object(x.a)(["\n  border-radius: 20px !important;\n"]);return ae=function(){return e},e}function re(){var e=Object(x.a)(['\n  flex: 1;\n  position: relative;\n  background-image: url("background.png");\n']);return re=function(){return e},e}var ie=v.a.div(re()),oe=Object(v.a)(G.a)(ae()),se=v.a.div(ne(),(function(e){return e.expanded?0:-70}),(function(e){return e.top}),R.MAIN_APP_COLOR),le=Object(v.a)(G.a)(te(),(function(e){return"true"===e.expanded?"rotateZ(-180deg)":""})),ce=Object(v.a)(X.a.Text)(ee()),ue=v.a.img(Q()),he=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={texturesMap:[],overLayMap:[],edits:[],modalMessage:"",showModal:!1,gridWidth:0,editorExpanded:!0,finishAfterNextAnimation:!1,gridHeight:0,xOffset:0,yOffset:0,initialPlayerLocation:null,currentPlayerLocation:null,initialThiefLocation:null,currentThiefLocation:null,currentPlayerHealth:e.playerMaxHealth,currentThiefHealth:e.thiefMaxHealth,mouseOverX:null,mouseOverY:null,mouseDown:!1},n.onMouseDown=n.onMouseDown.bind(Object(f.a)(n)),n.onMouseUp=n.onMouseUp.bind(Object(f.a)(n)),n.onMouseHoverTextureEnter=n.onMouseHoverTextureEnter.bind(Object(f.a)(n)),n.onMouseHoverTextureLeave=n.onMouseHoverTextureLeave.bind(Object(f.a)(n)),n.onPlaceCharacter=n.onPlaceCharacter.bind(Object(f.a)(n)),n.handleHoverWhilePlacingCharacter=n.handleHoverWhilePlacingCharacter.bind(Object(f.a)(n)),n.getNextCharacterAction=n.getNextCharacterAction.bind(Object(f.a)(n)),n.setCharacterCurrentHealth=n.setCharacterCurrentHealth.bind(Object(f.a)(n)),n.onCharacterFinishMove=n.onCharacterFinishMove.bind(Object(f.a)(n)),n.updateURL=n.updateURL.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"setCharacterCurrentHealth",value:function(e,t){var n=e.charAt(0).toUpperCase()+e.slice(1);this.setState(Object(c.a)({},"current"+n+"Health",t))}},{key:"onMouseDown",value:function(e,t,n){var a=this;e.persist(),this.setState({mouseDown:!0},(function(){a.onMouseHoverTextureEnter(e,t,n)}))}},{key:"onPlaceCharacter",value:function(){this.props.setSelectedEditTexture(null)}},{key:"onMouseUp",value:function(){this.setState({mouseDown:!1})}},{key:"handleHoverWhilePlacingCharacter",value:function(e,t,n){e===g.THIEF_IDLE&&(this.resetCharactersLocation(P),this.setState({initialThiefLocation:[t,n],currentThiefLocation:[t,n]})),e===g.PLAYER_IDLE&&(this.resetCharactersLocation(k),this.setState({initialPlayerLocation:[t,n],currentPlayerLocation:[t,n]}))}},{key:"resetCharactersLocation",value:function(e){if(e===k){var t=document.getElementById(k);t.style.left=0,t.style.top=0}else{var n=document.getElementById(P);n.style.left=0,n.style.top=0}}},{key:"handleFollowCursor",value:function(e,t){this.resetCharactersLocation(P),this.setState({initialThiefLocation:[e,t],currentThiefLocation:[e,t]})}},{key:"updateURL",value:function(){var e={playerSpeed:this.props.playerSpeed,playerMaxHealth:this.props.playerMaxHealth,initialTexturesMap:this.state.texturesMap,searchPriority:this.props.searchPriority,allowDiagonalActions:this.props.allowDiagonalActions,initialOverLayMap:this.state.overLayMap,minHeight:window.screen.height,minWidth:window.screen.width,thiefSpeed:this.props.thiefSpeed,textureSize:this.props.textureSize,firstRenderPlayerLocation:this.state.initialPlayerLocation,firstRenderThiefLocation:this.state.initialThiefLocation};window.history.replaceState({},null,"?"+J.a.stringify(e,{arrayFormat:"comma"}))}},{key:"onMouseHoverTextureEnter",value:function(e,t,n){var a=this.props,r=a.selectedEditTexture,i=a.editing,o=a.followCursor,s=a.textureSize,l=this.state,c=l.texturesMap,u=l.mouseDown,h=l.edits,p=l.overLayMap,d=l.xOffset,f=l.yOffset,m=l.gridWidth,x=l.gridHeight,v=n*m+t;if("touchmove"===e.type){var S=Math.floor((e.touches[0].pageX-d)/s),E=Math.floor((e.touches[0].pageY-f)/s);if(S>=m||E>=x)return;v=E*m+S}if(r===g.PLAYER_IDLE||r===g.THIEF_IDLE)this.handleHoverWhilePlacingCharacter(r,t,n);else if(i){if(null===e.target||"ontouchstart"in window||(e.target.parentElement.style.border=R.EDITING_BORDER),r===g.HEALTH_PACK)if(u){var b=p.slice();b[v]=p[v]===g.HEALTH_PACK?g.TRANSPARENT:r,this.setState({overLayMap:b,mouseOverX:t,mouseOverY:n,mouseDown:!1,edits:[].concat(Object(y.a)(h),[{type:H,texture:p[v],x:t,y:n}])})}else this.setState({mouseOverX:t,mouseOverY:n});else if(c[v]!==r)if(u){var L=c.slice();L[v]=r,this.setState({texturesMap:L,mouseOverX:t,mouseOverY:n,edits:[].concat(Object(y.a)(h),[{type:A,texture:c[v],x:t,y:n}])})}else this.setState({mouseOverX:t,mouseOverY:n})}else o&&this.handleFollowCursor(t,n)}},{key:"onMouseHoverTextureLeave",value:function(e){this.props.editing&&(this.setState({mouseOverX:null,mouseOverY:null}),e.target.parentElement.style.border="0")}},{key:"componentDidUpdate",value:function(e){e.textureSize!==this.props.textureSize&&this.initializeGridWithTextureSize(this.props.textureSize),e.playerMaxHealth!==this.props.playerMaxHealth&&this.setState({currentPlayerHealth:this.props.playerMaxHealth})}},{key:"initializeGridWithTextureSize",value:function(e,t,n,a){var r=Math.floor(this.container.offsetWidth/e),i=Math.floor(this.container.offsetHeight/e),o=this.container.offsetWidth%e/2,s=this.container.offsetHeight%e/2,l=void 0!==a&&null!==this.props.firstRenderPlayerLocation?this.props.firstRenderPlayerLocation:[0,0],c=void 0!==a&&null!==this.props.firstRenderThiefLocation?this.props.firstRenderThiefLocation:[r-1,0],u=void 0===t?new Array(r*i).fill(g.OBSIDIAN):new Array(r*i).fill(g.OBSIDIAN).map((function(e,n){return void 0!==t[n]?t[n]:e})),h=void 0===n?new Array(r*i).fill(g.TRANSPARENT):new Array(r*i).fill(g.TRANSPARENT).map((function(e,t){return void 0!==n[t]?n[t]:e}));this.setState({texturesMap:u,overLayMap:h,gridWidth:r,gridHeight:i,xOffset:o,yOffset:s,initialPlayerLocation:l,initialThiefLocation:c,currentPlayerLocation:l,currentThiefLocation:c,currentPlayerHealth:this.props.playerMaxHealth,currentThiefHealth:this.props.thiefMaxHealth,edits:[]}),this.props.envIsReady()}},{key:"getNextCharacterAction",value:function(e){var t=Y(this.state,this.props,e);if(0!==t[0]||0!==t[1])if(e===k){var n=[this.state.currentPlayerLocation[0]+t[0],this.state.currentPlayerLocation[1]+t[1]];this.setState({currentPlayerLocation:n})}else{var a=[this.state.currentThiefLocation[0]+t[0],this.state.currentThiefLocation[1]+t[1]];this.setState({currentThiefLocation:a})}return t}},{key:"undoEdit",value:function(){if(this.state.edits.length>0){var e=this.state.edits.slice(),t=e.pop(),n=t.y*this.state.gridWidth+t.x;if(t.type===A){var a=this.state.texturesMap.slice();a[n]=t.texture,this.setState({texturesMap:a,edits:e})}else if(t.type===H){var r=this.state.overLayMap.slice();r[n]=t.texture,this.setState({overLayMap:r,edits:e})}}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.textureSize>=$(window)&&this.props.textureSize<=Z(window),n=this.props.URLParams.minHeight<=window.screen.height&&this.props.URLParams.minWidth<=window.screen.width;t&&n?this.props.initialTexturesMap.length>0&&this.props.initialOverLayMap.length>0?this.initializeGridWithTextureSize(this.props.textureSize,this.props.initialTexturesMap,this.props.initialOverLayMap,!0):this.initializeGridWithTextureSize(this.props.textureSize):(n||void 0===this.props.URLParams.initialTexturesMap||this.setState({showModal:!0,modalMessage:"We could not load the map from the link, the map was created on a screen bigger than the one you are using currently. Try again using a bigger screen."}),this.initializeGridWithTextureSize(this.props.textureSize)),this.props.onRef(this),window.addEventListener("resize",(function(t){return e.initializeGridWithTextureSize(e.props.textureSize)}))}},{key:"onCharacterFinishMove",value:function(e,t){var n=this.state,a=n.overLayMap,r=n.currentPlayerLocation,i=n.currentThiefLocation,o=n.texturesMap,s=e.charAt(0).toUpperCase()+e.slice(1),l=this.state["current"+s+"Location"],c=this.state["current"+s+"Health"],u=l[1]*this.state.gridWidth+l[0];if(o[u]===g.LAVA&&this.setCharacterCurrentHealth(e,c-1),a[u]===g.HEALTH_PACK){var h=a.slice();h[u]=g.TRANSPARENT,this.setState({overLayMap:h}),this.setCharacterCurrentHealth(e,this.props.playerMaxHealth)}this.state.finishAfterNextAnimation&&(this.props.onFinishGame(),this.props.onClickRestart()),r[0]===i[0]&&r[1]===i[1]&&(0===this.props.thiefSpeed?(this.props.onFinishGame(),this.props.onClickRestart()):e!==k||this.props.followCursor||this.setState({finishAfterNextAnimation:!0})),r[0]!==i[0]||r[1]!==i[1]||e!==k||this.props.followCursor||this.setState({finishAfterNextAnimation:!0})}},{key:"onSelectCustomLevel",value:function(e){this.initializeGridWithTextureSize(e.textureSize,e.initialTexturesMap,e.initialOverLayMap,!0)}},{key:"onClickTexture",value:function(e){this.props.setEditing(!0),this.props.setSelectedEditTexture(e)}},{key:"onClickRestart",value:function(){this.player.onClickRestart(),this.thief.onClickRestart(),this.setState({currentPlayerLocation:this.state.initialPlayerLocation,currentThiefLocation:this.state.initialThiefLocation,currentPlayerHealth:this.props.playerMaxHealth,currentThiefHealth:this.props.thiefMaxHealth,finishAfterNextAnimation:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.gridWidth,a=t.xOffset,i=t.yOffset,o=t.texturesMap,s=t.overLayMap,l=t.mouseOverX,c=t.mouseOverY,u=t.initialPlayerLocation,h=t.initialThiefLocation,p=t.showModal,d=t.modalMessage,f=t.currentPlayerHealth,m=t.editorExpanded,x=this.props,y=x.textureSize,v=x.inProgress,E=x.paused,b=x.followCursor,L=x.editing,O=x.selectedEditTexture,T=x.playerSpeed,C=x.setEditing,M=x.playerMaxHealth,H=x.thiefSpeed,A=O===g.HEALTH_PACK;return r.a.createElement(ie,{onMouseLeave:this.onMouseUp,ref:function(t){return e.container=t}},r.a.createElement(V.a,{closable:!1,footer:[r.a.createElement(G.a,{type:"primary",onClick:function(){return e.setState({showModal:!1})}},"Ok")],title:"Sorry",visible:p},d),r.a.createElement(se,{top:void 0!==this.container?this.container.offsetHeight/2:0,expanded:m},r.a.createElement(le,{expanded:m?"true":"false",onClick:function(){return e.setState({editorExpanded:!m})},size:"small",shape:"circle",ghost:"true",icon:"arrow-right"}),r.a.createElement(ue,{onClick:function(){return e.onClickTexture(g.OBSIDIAN)},src:S[g.OBSIDIAN].src}),r.a.createElement(ce,null,"Obsidian"),r.a.createElement(ue,{onClick:function(){return e.onClickTexture(g.LAVA)},src:S[g.LAVA].src}),r.a.createElement(ce,null,"Lava"),r.a.createElement(ue,{onClick:function(){return e.onClickTexture(g.WALL)},src:S[g.WALL].src}),r.a.createElement(ce,null,"Wall"),r.a.createElement(ue,{onClick:function(){return e.onClickTexture(g.HEALTH_PACK)},src:S[g.WALL].src}),r.a.createElement(ce,null,"Health"),r.a.createElement(oe,{onClick:function(){C(!1),e.setState({editorExpanded:!1})},size:"small"},"Done")),o.map((function(e,t){var o=t%n,s=Math.floor(t/n),u=L&&l===o&&c===s;return r.a.createElement(w,{x:o,y:s,key:t,textureSize:y,xOffset:a,zIndex:1,yOffset:i,texture:u&&!A?O:e})})),s.map((function(t,o){var s=o%n,u=Math.floor(o/n),h=L&&l===s&&c===u;return r.a.createElement(w,{x:s,y:u,key:o,onMouseHoverTextureEnter:function(t){return e.onMouseHoverTextureEnter(t,s,u)},onMouseHoverTextureLeave:function(t){return e.onMouseHoverTextureLeave(t)},textureSize:y,onMouseDown:function(t){return e.onMouseDown(t,s,u)},zIndex:2,onMouseUp:e.onMouseUp,xOffset:a,yOffset:i,texture:h&&A?O:t})})),r.a.createElement(I,{xOffset:a,yOffset:i,onRef:function(t){return e.player=t},onPlaceCharacter:this.onPlaceCharacter,initialCharacterLocation:u,textureSize:y,movementSpeed:T,inProgress:v,paused:E,getNextAction:this.getNextCharacterAction,onCharacterFinishMove:this.onCharacterFinishMove,currentHealth:f,maxHealth:M,renderOnScreen:!0,healthBar:!0,type:k}),r.a.createElement(I,{xOffset:a,yOffset:i,onRef:function(t){return e.thief=t},onPlaceCharacter:this.onPlaceCharacter,initialCharacterLocation:h,textureSize:y,movementSpeed:H,onCharacterFinishMove:this.onCharacterFinishMove,inProgress:v,paused:E,getNextAction:this.getNextCharacterAction,renderOnScreen:!b,type:P}))}}]),t}(a.Component),pe=n(231),de=n(64),fe=n(234),me=n(233),xe="1100px",ye="900px",ve="720px",ge="960px",Se="820px",Ee="700px";function be(){var e=Object(x.a)(["\n  margin: ",";\n  font-size: ",";\n  @media (max-height: ",") {\n    font-size: 25px !important;\n  }\n  height: fit-content !important;\n  width: fit-content !important;\n  &:focus,\n  &:active {\n    color: white !important;\n  }\n  &:hover {\n    color: #40a9ff !important;\n  }\n"]);return be=function(){return e},e}function Le(){var e=Object(x.a)(["\n  width: 60%;\n  @media (max-width: ",") {\n    width: 100%;\n  }\n  display: flex;\n  flex-direction: column;\n"]);return Le=function(){return e},e}function Oe(){var e=Object(x.a)(["\n  color: white !important;\n"]);return Oe=function(){return e},e}function Te(){var e=Object(x.a)(["\n  width: 100%;\n  margin-bottom: 60px;\n  @media (max-width: ",") {\n    margin-bottom: 0;\n  }\n  display: flex;\n  align-items: center;\n"]);return Te=function(){return e},e}function Ce(){var e=Object(x.a)(["\n  width: 70%;\n  display: inline-block;\n  min-width: 50px;\n  margin: 0 !important;\n"]);return Ce=function(){return e},e}function Me(){var e=Object(x.a)(["\n  margin-left: 6px;\n  margin-right: 6px;\n  display: inline-block;\n  width: 20%;\n  color: white !important;\n"]);return Me=function(){return e},e}function we(){var e=Object(x.a)(["\n  display: flex;\n  height: 100%;\n  justify-content: flex-start;\n  align-items: flex-start;\n  margin: auto;\n  flex-direction: column;\n  flex-grow: 1;\n  align-self: flex-end;\n  padding-top: 30px;\n"]);return we=function(){return e},e}function ke(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: auto;\n  flex-direction: column;\n  align-self: center;\n  flex-grow: 0.3;\n"]);return ke=function(){return e},e}function Pe(){var e=Object(x.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-end;\n  flex-direction: column;\n  flex-grow: 1;\n  height: 100%;\n  align-self: flex-start;\n  padding-top: 30px;\n"]);return Pe=function(){return e},e}function He(){var e=Object(x.a)(["\n  @media (max-height: ",") {\n    height: 35px !important;\n  }\n  @media (max-height: ",") {\n    height: 30px !important;\n  }\n  @media (max-height: ",") {\n    height: 25px !important;\n  }\n  border-radius: 20px !important;\n  height: 43px !important;\n"]);return He=function(){return e},e}function Ae(){var e=Object(x.a)(["\n  display: block;\n"]);return Ae=function(){return e},e}function je(){var e=Object(x.a)(["\n  color: white !important;\n"]);return je=function(){return e},e}function De(){var e=Object(x.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 10px;\n  @media (max-height: ",") {\n    margin-bottom: 6px;\n  }\n  @media (max-height: ",") {\n    margin-bottom: 4px;\n  }\n  @media (max-height: ",") {\n    margin-bottom: 2px;\n  }\n"]);return De=function(){return e},e}function Re(){var e=Object(x.a)(["\n  width: 100%;\n  height: fit-content;\n  background-color: ",";\n  justify-content: center;\n  display: flex;\n  align-items: center;\n  padding-top: 15px;\n  @media (max-height: ",") {\n    font-size: 11px;\n  }\n  @media (max-width: ",") {\n    font-size: 11px;\n  }\n"]);return Re=function(){return e},e}var ze=v.a.div(Re(),R.MAIN_APP_COLOR,Se,ye),_e=v.a.div(De(),ge,Se,Ee),Ie=Object(v.a)(X.a.Text)(je()),We=Object(v.a)(G.a)(Ae()),Ne=Object(v.a)(G.a)(He(),ge,Se,Ee),Ue=v.a.div(Pe()),Fe=v.a.div(ke()),Be=v.a.div(we()),Ye=Object(v.a)(X.a.Text)(Me()),Ge=Object(v.a)(pe.a)(Ce()),Xe=v.a.div(Te(),ve),Ve=Object(v.a)(X.a.Title)(Oe()),Ke=v.a.div(Le(),xe),Je=Object(v.a)(G.a)(be(),(function(e){return e.margin}),(function(e){return e.fontSize+"px !important"}),ge),qe=function(e,t){var n=[r.a.createElement(Ye,{key:"playerMaxHealthLabel"},t?"Player Max Health":"Max Health"),r.a.createElement(Ge,{key:"playerMaxHealthSlider",onChange:function(t){return e.setCharacterMaxHealth(k,t)},value:e.playerMaxHealth,disabled:e.inProgress,min:1,max:10,step:1,tooltipPlacement:"top"})];return t?n:r.a.createElement(de.a,{placement:"topLeft",title:"Changes The Player Max Health "},r.a.createElement(Xe,null,n.map((function(e){return e}))))},Ze=function(e,t){var n=[r.a.createElement(Ye,{key:"playerSpeedLabel"},t?"Player Speed":"Speed"),r.a.createElement(Ge,{key:"playerSpeedSlider",onChange:function(t){return e.setCharacterSpeed(k,t)},value:e.playerSpeed,min:1,max:4,step:1,tooltipPlacement:"top"})];return t?n:r.a.createElement(de.a,{placement:"topLeft",title:"Changes The Player Movement Speed"},r.a.createElement(Xe,null,n.map((function(e){return e}))))},$e=function(e,t){var n=[r.a.createElement(Ye,{key:"thiefSpeedLabel"},t?"Thief Speed":"Speed"),r.a.createElement(Ge,{key:"thiefSpeedSlider",onChange:function(t){return e.setCharacterSpeed(P,t)},value:e.thiefSpeed,min:0,max:4,step:1,tooltipPlacement:"top"})];return t?n:r.a.createElement(de.a,{placement:"topLeft",title:"Changes The Thief Movement Speed, Set to 0 To Stay Still"},r.a.createElement(Xe,null,n.map((function(e){return e}))))},Qe=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={minTextureSize:$(window),maxTextureSize:Z(window)},n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(t){e.setState({minTextureSize:$(window),maxTextureSize:Z(window)})}))}},{key:"copyLinkToClipBoard",value:function(){var e=document.getElementById("shareLinkInput");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}},{key:"render",value:function(){var e=this,t=window.screen.width<=parseInt(ve,10),n=window.screen.height<=parseInt(Se,10),a=this.props,i=this.state,o=i.minTextureSize,s=i.maxTextureSize,l=i.showModal;return r.a.createElement(ze,null,r.a.createElement(V.a,{closable:!1,footer:[r.a.createElement(G.a,{key:1,type:"primary",onClick:function(){return e.setState({showModal:!1})}},"Ok")],visible:l,title:"Share Your Map!"},r.a.createElement(X.a.Text,null,"Copy This Link and Send it To your Friends"),r.a.createElement("div",null,r.a.createElement(fe.a,{id:"shareLinkInput",style:{margin:"20px 20px 20px 0",width:"80%"},defaultValue:window.location.href}),r.a.createElement(G.a,{onClick:function(){return e.copyLinkToClipBoard()},type:"secondary"},"Copy")),r.a.createElement(X.a.Text,{type:"secondary"},"Note that your friend's screen needs to be at least as big as your screen to maintain the shape of the map!")),t?null:r.a.createElement(Ue,null,r.a.createElement(Ke,null,r.a.createElement(_e,null,r.a.createElement(Ve,{level:4},"Player Options")),qe(a,!1),Ze(a,!1))),r.a.createElement(Fe,null,r.a.createElement(_e,null,r.a.createElement(de.a,{placement:"top",title:"The Player Will Follow The Mouse Cursor on The Screen"},r.a.createElement(Ne,{onClick:function(){return a.enableFollowCursor()},style:{margin:"0"}},"Follow Cursor"))),r.a.createElement(_e,null,r.a.createElement(de.a,{placement:"left",title:"Undo The Last Edit to The Map"},r.a.createElement(Ne,{onClick:function(){return a.onClickUndo()},style:{margin:"0 15px 0 0"}},"Undo Edit")),function(e){return e.inProgress?r.a.createElement("div",null,r.a.createElement(Je,{disabled:!e.ready,type:"link",fontSize:30,onClick:function(){return e.paused?e.onClickResume():e.onClickPause()},ghost:!0,margin:"0 4px 0 15px",icon:e.paused?"play-circle":"pause-circle"}),r.a.createElement(Je,{disabled:!e.ready,type:"link",fontSize:30,onClick:function(){return e.onClickRestart()},margin:"0 15px 0 4px",ghost:!0,icon:"stop"})):r.a.createElement(Je,{disabled:!e.ready,type:"link",ghost:!0,fontSize:35,margin:"0 15px 0 15px",onClick:function(){return e.onClickStart()},icon:"play-circle"})}(a),r.a.createElement(de.a,{placement:"right",title:"Share This Map With a Friend"},r.a.createElement(Ne,{onClick:function(){a.generateLink(),e.setState({showModal:!0})},style:{margin:"0 0 0 15px"}},"Share Map"))),r.a.createElement(_e,null,r.a.createElement(de.a,{placement:"left",title:"Position The Start Location of The Player"},r.a.createElement(Ne,{onClick:function(){return a.setSelectedEditTexture(g.PLAYER_IDLE)},style:{margin:"0 10px 0 0"}},"Place Player")),r.a.createElement(de.a,{placement:"right",title:"Position The Start Location of The Thief"},r.a.createElement(Ne,{onClick:function(){return a.setSelectedEditTexture(g.THIEF_IDLE)},style:{margin:"0 0 0 10px"}},"Place Thief"))),r.a.createElement(de.a,{placement:"right",title:"Changes The Grid Size"},r.a.createElement(_e,null,r.a.createElement(Ye,null,"Map Scale"),r.a.createElement(Ge,{min:o,max:s,onChange:a.setTextureSize,disabled:a.inProgress,value:a.textureSize,tooltipPlacement:"top"}))),t?[r.a.createElement(de.a,{key:1,placement:"topLeft",title:"Changes The Player Max Health"},r.a.createElement(_e,null,qe(a,!0))),r.a.createElement(de.a,{key:2,placement:"topLeft",title:"Changes The Player Movement Speed"},r.a.createElement(_e,null,Ze(a,!0))),r.a.createElement(de.a,{key:3,placement:"topLeft",title:"Changes The Thief Movement Speed, Set to 0 To Stay Still"},r.a.createElement(_e,null,$e(a,!0)))]:null,r.a.createElement(de.a,{placement:"right",title:"Loads a Pre Made Level Created By The Developer"},r.a.createElement(_e,null,r.a.createElement(Ye,{style:{width:"30%"}},"Pre made Levels"),r.a.createElement(me.a.Group,{value:a.selectedLevel,size:n||t?"small":"default",onChange:function(e){return a.setSelectedLevel(e.target.value)}},r.a.createElement(me.a.Button,{value:1},"1"),r.a.createElement(me.a.Button,{value:2},"2"),r.a.createElement(me.a.Button,{value:3},"3"),r.a.createElement(me.a.Button,{value:4},"4"),r.a.createElement(me.a.Button,{value:5},"5"),r.a.createElement(me.a.Button,{value:6},"6")))),r.a.createElement(de.a,{placement:"right",title:"Changes Wether The Player Maximizes Health or Minimizes Distance"},r.a.createElement(_e,null,r.a.createElement(Ye,{style:{width:"30%"}},"Search Priority"),r.a.createElement(me.a.Group,{size:n||t?"small":"default",value:a.searchPriority,onChange:function(e){return a.setSearchPriority(e.target.value)}},r.a.createElement(me.a.Button,{value:j},"HEALTH"),r.a.createElement(me.a.Button,{value:D},"SPEED")))),r.a.createElement(Ie,null,"Made By Mark Armanious \xa9 2019"),r.a.createElement(We,{href:"https://github.com/markarmanus/path_finder",target:"_blank",shape:"circle",ghost:!0,icon:"github",type:"link"})),t?null:r.a.createElement(Be,null,r.a.createElement(Ke,null,r.a.createElement(_e,null,r.a.createElement(Ve,{level:4},"Thief Options")),$e(a,!1))))}}]),t}(a.Component),et={1:"allowDiagonalActions=false&firstRenderPlayerLocation=0,0&firstRenderThiefLocation=28,0&initialOverLayMap=13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,12,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13&initialTexturesMap=1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,2,1,1,2,2,2,2,2,2,2,2,2,2,2,1,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,2,2,1,2,1,2,1,2,2,2,2,1,1,1,1,1,1,1,1,1,1,2,1,1,2,2,1,2,2,2,2,1,2,2,2,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,2,2,2,2,2,2,2,1,2,2,1,1,2,1,2,2,1,1,1,1,1,1,1,1,1,2,1,1,1,2,2,1,2,1,2,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,2,2,1,2,2,2,2,2,1,2,2,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,2,2,2,2,2,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1&playerMaxHealth=5&playerSpeed=1&searchPriority=health&textureSize=66&thiefSpeed=1",2:"allowDiagonalActions=false&firstRenderPlayerLocation=0,0&firstRenderThiefLocation=28,0&initialOverLayMap=13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13&initialTexturesMap=1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,2,1,1,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,2,2,2,1,2,1,2,1,2,2,2,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,2,2,2,2,1,2,2,2,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,2,2,1,2,1,1,2,1,2,2,1,1,2,1,2,2,1,1,1,1,1,1,1,1,1,2,1,1,1,2,2,1,2,1,2,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,2,2,1,1,1,2,1,2,1,2,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,2,2,2,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1&playerMaxHealth=5&playerSpeed=1&searchPriority=health&textureSize=66&thiefSpeed=1",3:"minWidth=1920&minHeight=600&allowDiagonalActions=true&firstRenderPlayerLocation=3,0&firstRenderThiefLocation=5,0&initialOverLayMap=13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13&initialTexturesMap=1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1&playerMaxHealth=10&playerSpeed=2&searchPriority=speed&textureSize=197&thiefSpeed=3",4:"http://localhost:3000/?allowDiagonalActions=true&firstRenderPlayerLocation=0,0&firstRenderThiefLocation=11,0&initialOverLayMap=13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13&initialTexturesMap=1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1&minHeight=937&minWidth=1920&playerMaxHealth=10&playerSpeed=3&searchPriority=speed&textureSize=159&thiefSpeed=3",5:"allowDiagonalActions=false&firstRenderPlayerLocation=3,2&firstRenderThiefLocation=5,0&initialOverLayMap=13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13&initialTexturesMap=1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1&playerMaxHealth=10&playerSpeed=4&searchPriority=health&textureSize=211&thiefSpeed=1"},tt=n(235);n(227);function nt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function at(){var e=Object(x.a)(["\n  display: flex;\n  flex-flow: column;\n  height: 100%;\n"]);return at=function(){return e},e}var rt=v.a.div(at()),it=function(e){function t(e){var n;Object(u.a)(this,t);var a=(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).parseLevelData(n.props.location.search);return n.state={textureSize:a.textureSize?a.textureSize:q(window),selectedEditTexture:null,editing:!1,selectedLevel:R.DEFAULT_SELECTED_LEVEL,inProgress:!1,URLParams:a,paused:!1,ready:!1,followCursor:!1,initialTexturesMap:a.initialTexturesMap?a.initialTexturesMap:[],initialOverLayMap:a.initialOverLayMap?a.initialOverLayMap:[],playerSpeed:a.playerSpeed?a.playerSpeed:R.DEFAULT_PLAYER_SPEED,firstRenderPlayerLocation:a.firstRenderPlayerLocation?a.firstRenderPlayerLocation:null,firstRenderThiefLocation:a.firstRenderThiefLocation?a.firstRenderThiefLocation:null,playerMaxHealth:a.playerMaxHealth?a.playerMaxHealth:R.DEFAULT_PLAYER_HEALTH,searchPriority:a.searchPriority?a.searchPriority:R.DEFAULT_SEARCH_PRIORITY,thiefSpeed:a.thiefSpeed?a.thiefSpeed:R.DEFAULT_THIEF_SPEED},n.onClickUndo=n.onClickUndo.bind(Object(f.a)(n)),n.setTextureSize=n.setTextureSize.bind(Object(f.a)(n)),n.setSelectedEditTexture=n.setSelectedEditTexture.bind(Object(f.a)(n)),n.setEditing=n.setEditing.bind(Object(f.a)(n)),n.onClickStart=n.onClickStart.bind(Object(f.a)(n)),n.onClickRestart=n.onClickRestart.bind(Object(f.a)(n)),n.onClickPause=n.onClickPause.bind(Object(f.a)(n)),n.onClickResume=n.onClickResume.bind(Object(f.a)(n)),n.setCharacterSpeed=n.setCharacterSpeed.bind(Object(f.a)(n)),n.envIsReady=n.envIsReady.bind(Object(f.a)(n)),n.enableFollowCursor=n.enableFollowCursor.bind(Object(f.a)(n)),n.setCharacterMaxHealth=n.setCharacterMaxHealth.bind(Object(f.a)(n)),n.setSearchPriority=n.setSearchPriority.bind(Object(f.a)(n)),n.onFinishGame=n.onFinishGame.bind(Object(f.a)(n)),n.generateLink=n.generateLink.bind(Object(f.a)(n)),n.setAllowDiagonalActions=n.setAllowDiagonalActions.bind(Object(f.a)(n)),n.setSelectedLevel=n.setSelectedLevel.bind(Object(f.a)(n)),n.parseLevelData=n.parseLevelData.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"parseLevelData",value:function(e){return J.a.parse(e,{arrayFormat:"comma",parseNumbers:!0,parseBooleans:!0})}},{key:"setSelectedLevel",value:function(e){var t=this,n=this.parseLevelData(et[e]);n.minHeight<=window.screen.height&&n.minWidth<=window.screen.width?this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?nt(n,!0).forEach((function(t){Object(c.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nt(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({selectedLevel:e},n),(function(){t.grid.onSelectCustomLevel(n)})):tt.a.error("Your Screen is Too Small For This Map!")}},{key:"setAllowDiagonalActions",value:function(e){this.setState({allowDiagonalActions:e})}},{key:"onFinishGame",value:function(){this.setState({inProgress:!1})}},{key:"generateLink",value:function(){this.grid.updateURL()}},{key:"setCharacterMaxHealth",value:function(e,t){this.setState(Object(c.a)({},e+"MaxHealth",t))}},{key:"enableFollowCursor",value:function(){this.state.ready&&this.setState({followCursor:!0,inProgress:!0})}},{key:"setCharacterSpeed",value:function(e,t){this.setState(Object(c.a)({},e+"Speed",t))}},{key:"onClickUndo",value:function(){this.grid.undoEdit()}},{key:"setTextureSize",value:function(e){this.setState({textureSize:e}),this.onClickRestart()}},{key:"envIsReady",value:function(){this.setState({ready:!0})}},{key:"setEditing",value:function(e){this.setState({editing:e})}},{key:"setSelectedEditTexture",value:function(e){var t=null!==e&&e!==g.PLAYER_IDLE&&e!==g.THIEF_IDLE;this.setState({selectedEditTexture:e,editing:t})}},{key:"onClickStart",value:function(){this.setState({inProgress:!0})}},{key:"onClickRestart",value:function(){this.setState({paused:!1,inProgress:!1,selectedEditTexture:null,editing:!1,followCursor:!1}),this.grid.onClickRestart()}},{key:"onClickPause",value:function(){this.setState({paused:!0})}},{key:"onClickResume",value:function(){this.setState({paused:!1})}},{key:"setSearchPriority",value:function(e){this.setState({searchPriority:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(rt,null,r.a.createElement(he,Object.assign({onRef:function(t){return e.grid=t}},this.state,this)),r.a.createElement(Qe,Object.assign({},this,this.state)))}}]),t}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement((function(){return r.a.createElement(s.a,null,r.a.createElement(l.a,{path:"/",component:it}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[142,1,2]]]);
//# sourceMappingURL=main.06881d31.chunk.js.map