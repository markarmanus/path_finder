(this.webpackJsonprun_chicken=this.webpackJsonprun_chicken||[]).push([[0],{149:function(e,t,n){e.exports=n(258)},154:function(e,t,n){},258:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(5),o=n.n(i),l=(n(154),n(143)),c=n(47),s=n(52),u=n(25),h=n(31),p=n(34),d=n(32),f=n(9),m=n(35),y=n(10),x=n(54),v=n(11),g={FIRE:2,CHICKEN_RUNNING:3,CHICKEN_IDLE:4,CHICKEN_UP:5,CHICKEN_DOWN:6,PLAYER_IDLE:7,PLAYER_UP:8,PLAYER_DOWN:9,PLAYER_RUNNING:10,WALL:11,HEALTH_PACK:12,TRANSPARENT:13,FLOOR_BOTTOM:14,FLOOR_TOP:15,FLOOR_RIGHT:16,FLOOR_LEFT:17,FLOOR_TOP_LEFT:18,FLOOR_TOP_RIGHT:19,FLOOR_BOTTOM_RIGHT:20,FLOOR_BOTTOM_LEFT:21,FLOOR:22},E={2:{animationSpeed:"0.3s",animated:!0,numberOfSprites:4,src:"campFire.png",icon:"campFireIcon.png"},3:{animationSpeed:"0.3s",animated:!0,numberOfSprites:3,src:"ChickenRight.png"},4:{animationSpeed:null,animated:!1,numberOfSprites:1,src:"ChickenIdle.png"},5:{animationSpeed:"0.3s",animated:!0,numberOfSprites:3,src:"ChickenUp.png"},6:{animationSpeed:"0.3s",animated:!0,numberOfSprites:3,src:"ChickenDown.png"},7:{animationSpeed:null,animated:!1,numberOfSprites:1,src:"PlayerIdle.png"},8:{animationSpeed:"0.3s",animated:!0,numberOfSprites:4,src:"PlayerUp.png"},9:{animationSpeed:"0.3s",animated:!0,numberOfSprites:4,src:"PlayerDown.png"},10:{animationSpeed:"0.3s",animated:!0,numberOfSprites:4,src:"PlayerRight.png"},11:{animationSpeed:null,animated:!1,numberOfSprites:1,src:"Rock.png",icon:"Rock_Icon.png"},12:{animationSpeed:"1s",animated:!0,numberOfSprites:3,src:"Health_Pack.png",icon:"Health_Icon.png"},13:{animationSpeed:null,animated:!1,numberOfSprites:1,src:"Transparent.png"},14:{animationSpeed:null,animated:!1,numberOfSprites:1,src:"Floor_Bottom_1.png"},15:{animationSpeed:null,animated:!1,numberOfSprites:1,src:"Floor_Top_1.png"},16:{animationSpeed:null,animated:!1,numberOfSprites:1,src:"Floor_Right_1.png"},17:{animationSpeed:null,animated:!1,numberOfSprites:1,src:"Floor_Left_1.png"},18:{animationSpeed:null,animated:!1,numberOfSprites:1,src:"Floor_Top_Left_1.png"},19:{animationSpeed:null,animated:!1,numberOfSprites:1,src:"Floor_Top_Right_1.png"},20:{animationSpeed:null,animated:!1,numberOfSprites:1,src:"Floor_Bottom_Right_1.png"},21:{animationSpeed:null,animated:!1,numberOfSprites:1,src:"Floor_Bottom_Left_1.png"},22:{animationSpeed:null,animated:!1,numberOfSprites:1,src:["Floor_1.png","Floor_2.png","Floor_3.png","Floor_1.png"],icon:"Floor_1.png"}},b=function(e){var t=e.screen.height-300,n=e.screen.width;return(t>n?n:t)/10},S=function(e){var t=e.screen.height-300,n=e.screen.width;return Math.floor(Math.min.apply(Math,[t/4,n/4]))},O=function(e){var t=e.screen.height-300,n=e.screen.width;return Math.floor(Math.max.apply(Math,[t/50,n/50]))},C=function(e,t,n,r){return t===r-1||0===t||e===n-1||0===e},L=function(e){return"ontouchstart"in e};function k(){var e=Object(y.a)(["\n  width: 100%;\n  position: relative;\n  background-color: #e03836;\n  margin: auto;\n  border-radius: 10px;\n  transition: right 0.5s;\n  right: ","%;\n  height: ","px;\n"]);return k=function(){return e},e}function w(){var e=Object(y.a)(["\n  width: 80%;\n  position: relative;\n  background-color: #661918;\n  margin: auto;\n  border-radius: 10px;\n  height: ","px;\n  overflow: hidden;\n"]);return w=function(){return e},e}function M(){var e=Object(y.a)(["\n  width: ","%;\n  height: 100%;\n  background-image: url(",");\n  background-size: 100%, 100%;\n  background-repeat: ",";\n  animation: ","\n    ","\n    steps(",")\n    ",";\n  position: absolute;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  user-select: none;\n\n  left: 0;\n  top: 0;\n"]);return M=function(){return e},e}function P(){var e=Object(y.a)(["\n  from { \n    transform: translateX(0); \n  }\n  to { \n    transform: translateX(-","%); \n  }\n}\n"]);return P=function(){return e},e}var T=v.a.div(M(),(function(e){return 100*e.textureData.numberOfSprites}),(function(e){return function(e){return Array.isArray(e)?e[Math.floor(Math.random()*e.length)]:e}(e.textureData.src)}),(function(e){return e.textureData.animated?"no-repeat":"unset"}),(function(e){return function(e){var t=(e-1)/e*100;return Object(v.b)(P(),t)}(e.textureData.numberOfSprites)}),(function(e){return e.textureData.animationSpeed}),(function(e){return e.textureData.numberOfSprites-1}),(function(e){return e.textureData.animated?"infinite":0})),H=v.a.div(w(),(function(e){return.1*e.textureSize})),j=v.a.div(k(),(function(e){return 100-e.healthBarPercentage}),(function(e){return.1*e.textureSize})),R=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={mouseOver:!1},n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"setMouseOver",value:function(e){this.state.mouseOver!==e&&this.setState({mouseOver:e})}},{key:"shouldComponentUpdate",value:function(e,t){return e.texture!==this.props.texture||e.textureSize!==this.props.textureSize||e.x!==this.props.x||e.y!==this.props.y||e.xOffset!==this.props.xOffset||e.yOffset!==this.props.yOffset||e.healthBarPercentage!==this.props.healthBarPercentage||t!==this.state}},{key:"render",value:function(){var e=this,t=this.props,n=t.yOffset,r=t.xOffset,i=t.y,o=t.x,l=t.onMouseDown,c=t.onMouseUp,s=t.onMouseHoverTextureEnter,u=t.onMouseHoverTextureLeave,h=t.texture,p=t.selectedEditTexture,d=t.zIndex,f=t.textureSize,m=t.editing,y=t.healthBarPercentage,x=E[h],v=E[p];return a.a.createElement("div",{style:{position:"absolute",height:f+"px",width:f+"px",top:n?i*f+n:i*f,left:r?o*f+r:o*f,zIndex:d,overflow:"hidden",userSelect:"none"}},void 0!==y?a.a.createElement(H,{textureSize:f},a.a.createElement(j,{healthBarPercentage:y,textureSize:f})):null,a.a.createElement(T,{onMouseOut:function(t){u&&u(e,t)},onMouseUp:c,onTouchEnd:c,onTouchStart:l,textureData:this.state.mouseOver&&m?v:x,onTouchMove:function(t){s&&s(e,t)}},a.a.createElement("div",{style:{width:"85%",height:"85%"},onMouseDown:function(e){L(window)||l(e)},onMouseOver:function(t){s&&!L(window)&&s(e,t)}})))}}]),t}(r.Component),A="player",_="chicken",D="overLay",z="texture",I="health",F="speed",N={DEFAULT_PLAYER_SPEED:1,DEFAULT_CHICKEN_SPEED:0,DEFAULT_PLAYER_HEALTH:5,DEFAULT_CHICKEN_HEALTH:100,MAIN_APP_COLOR:"#274029",SECONDARY_APP_COLOR:"#012622",DEFAULT_SELECTED_LEVEL:1,DEFAULT_SEARCH_PRIORITY:I,EDITING_BORDER:"5px solid purple"};function W(){var e=Object(y.a)(["\n  position: absolute;\n"]);return W=function(){return e},e}var U=v.a.div(W()),B=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={walking:!1,currentTexture:g[e.type.toUpperCase()+"_IDLE"],currentMovementSpeed:n.props.movementSpeed},n.takeAction=n.takeAction.bind(Object(f.a)(n)),n.setCorrectTexture=n.setCorrectTexture.bind(Object(f.a)(n)),n.setCorrectDirection=n.setCorrectDirection.bind(Object(f.a)(n)),n.doNextAction=n.doNextAction.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"doNextAction",value:function(){var e=this.props.getNextAction(this.props.type),t=this.props.type.toUpperCase();0!==e[0]||0!==e[1]?(this.setState({walking:!0}),this.takeAction(e)):this.state.currentTexture!==g[t+"_IDLE"]&&this.setState({currentTexture:g[t+"_IDLE"]})}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.xOffset,a=n.yOffset,i=n.textureSize,o=n.movementSpeed,l=n.inProgress,c=n.paused,s=n.currentHealth,u=n.initialCharacterLocation,h=n.otherCharacterLocation,p=n.maxHealth,d=n.renderOnScreen;return e.xOffset!==r||e.yOffset!==a||e.textureSize!==i||e.movementSpeed!==o||e.inProgress!==l||e.paused!==c||e.currentHealth!==s||e.maxHealth!==p||e.renderOnScreen!==d||e.initialCharacterLocation!==u||e.otherCharacterLocation!==h||t!==this.state}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"onClickRestart",value:function(){var e=document.getElementById(this.props.type);e.style.left=0,e.style.top=0,this.setState({currentTexture:g[this.props.type.toUpperCase()+"_IDLE"]})}},{key:"componentDidUpdate",value:function(){!this.state.walking&&this.props.inProgress&&!this.props.paused&&this.props.renderOnScreen&&this.doNextAction()}},{key:"setCorrectTexture",value:function(e){var t=this.props.type.toUpperCase(),n=-1===e[1]&&0===e[0]?g[t+"_UP"]:1===e[1]&&0===e[0]?g[t+"_DOWN"]:g[t+"_RUNNING"];this.state.currentTexture!==n&&this.setState({currentTexture:n})}},{key:"setCorrectDirection",value:function(e,t){null!==e&&(-1===t[0]?e.style.transform="scaleX(-1)":e.style.transform="scaleX(1)")}},{key:"takeAction",value:function(e){this.setCorrectTexture(e);var t=document.getElementById(this.props.type);this.setCorrectDirection(t.firstChild,e);var n=Math.floor(this.props.textureSize/this.props.movementSpeed),r=this.props.textureSize%this.props.movementSpeed,a=0;this.state.currentMovementSpeed!==this.props.movementSpeed&&this.setState({currentMovementSpeed:this.props.movementSpeed});var i=setInterval(function(){a!==n&&this.props.inProgress?(a++,t.style.left=t.offsetLeft+e[0]*this.state.currentMovementSpeed+"px",t.style.top=t.offsetTop+e[1]*this.state.currentMovementSpeed+"px"):(clearInterval(i),t.style.left=t.offsetLeft+e[0]*r+"px",t.style.top=t.offsetTop+e[1]*r+"px",this.props.onCharacterFinishMove(this.props.type,e),this.setState({walking:!1}))}.bind(this),0)}},{key:"render",value:function(){var e=this.props,t=e.initialCharacterLocation,n=e.type,r=e.textureSize,i=e.xOffset,o=e.yOffset,l=e.onPlaceCharacter,c=e.renderOnScreen,s=e.healthBar,u=e.currentHealth,h=e.zIndex,p=e.maxHealth,d=s?u/p*100:void 0;return a.a.createElement(U,{id:n},null!==t&&c?a.a.createElement(R,{x:t[0],y:t[1],healthBarPercentage:d,textureSize:r,xOffset:i,yOffset:o,type:n,zIndex:h,onMouseDown:function(){return l(n)},texture:this.state.currentTexture}):null)}}]),t}(r.Component),G=function(e,t){var n=t[0]-e[0],r=t[1]-e[1];return 100*Math.sqrt(n*n+r*r)},Y=function(e,t,n,r){var a={x:e+n[0],y:t+n[1]},i=function(e){return e[0]+e[1]===0||2===Math.abs(e[0]+e[1])?"diagonal":"cardinal"}(n);if(q(a,r.gridWidth,r.gridHeight))return!1;if(C(a.x,a.y,r.gridWidth,r.gridHeight))return!1;var o=r.texturesMap[a.y*r.gridWidth+a.x]===g.WALL;if("diagonal"===i){var l=r.texturesMap[t*r.gridWidth+a.x]===g.WALL,c=r.texturesMap[a.y*r.gridWidth+e]===g.WALL;return!(l||c||o)}return!o},K=function(e,t){for(var n=!1,r=0;r<t.length;r++){var a=t[r];if(e.x===a.x&&e.y===a.y&&e.g>=a.g&&e.health<=a.health){n=!0;break}}if(!n)for(var i=e.g+e.h,o=0;o<t.length;o++){var l=t[o];if(i>=l.g+l.h){n=!0,t.splice(o,0,e);break}}n||t.push(e)},X=function(e){for(var t=e.action,n=e.parent;null!==n&&null!==n.action;)t=n.action,n=n.parent;return t},V=function(e,t,n){var r=function(e,t){var n=new Array(e.gridHeight*e.gridWidth).fill(!1),r=new Array(e.gridHeight*e.gridWidth).fill(!1),a=[],i=e.currentChickenLocation;a.push(new J(i[0],i[1],null,null,null,0,0));for(var o=function(){if(0===a.length)return{v:n};var i=a.shift(),o=i.y*e.gridWidth+i.x;if(r[o])return"continue";r[o]=!0,n[o]=!0,t.forEach((function(t){if(Y(i.x,i.y,t,e)){var n={x:i.x+t[0],y:i.y+t[1]},r=1===Math.abs(n.x-e.currentPlayerLocation[0])&&n.y===e.currentPlayerLocation[1],o=1===Math.abs(n.y-e.currentPlayerLocation[1])&&n.x===e.currentPlayerLocation[0];n.x===e.currentPlayerLocation[0]&&n.y===e.currentPlayerLocation[1]||r||o||a.push(new J(n.x,n.y,null,i,t,0,0))}}))};;){var l=o();switch(l){case"continue":continue;default:if("object"===typeof l)return l.v}}}(e,n),a=[],i=e.currentPlayerLocation;a.push(new J(i[0],i[1],e.currentPlayerHealth,null,null,0,0));for(var o=new Array(e.gridHeight*e.gridWidth).fill(!1),l=new Array(e.gridWidth*e.gridHeight).fill(0),c=function(){if(0===a.length){var t=l.indexOf(Math.max.apply(Math,Object(x.a)(l))),i=Math.floor(t/e.gridWidth);return{v:[Math.floor(t%e.gridWidth),i]}}var c=a.pop(),s=c.y*e.gridWidth+c.x;if(o[s])return"continue";o[s]=!0,l[s]=c.g,n.forEach((function(t){if(Y(c.x,c.y,t,e)){var n=[c.x+t[0],c.y+t[1]],i=n[1]*e.gridWidth+n[0];if(r[i]||c.x===e.currentPlayerLocation[0]&&c.y===e.currentPlayerLocation[1]){var o=e.texturesMap[i]===g.FIRE,l=c.g+100;l=o?l+500:l;var s=o?c.health-1:c.health;s<=0&&(l=1e8+l);var u=new J(n[0],n[1],s,c,t,l,0);K(u,a)}}}))};;){var s=c();switch(s){case"continue":continue;default:if("object"===typeof s)return s.v}}},q=function(e,t,n){return e.x<0||e.y<0||e.x>=t||e.y>=n},J=function e(t,n,r,a,i,o,l){Object(u.a)(this,e),this.x=t,this.y=n,this.health=r,this.action=i,this.parent=a,this.g=o,this.h=l},Z=function(e,t,n){var r=[[0,1],[0,-1],[1,0],[-1,0]];if(t.allowDiagonalActions&&(r=r.concat([[1,1],[-1,1],[1,-1],[-1,-1]])),n===_)return function(e,t,n){if(0===n.chickenSpeed)return[0,0];var r=t.currentChickenLocation,a=V(t,0,e);if(r[0]===a[0]&&r[1]===a[1])return[0,0];var i=new Array(t.gridHeight*t.gridWidth).fill(!1),o=[];o.push(new J(r[0],r[1],0,null,null,0,G(r,a)));for(var l=function(){if(0===o.length)return{v:[0,0]};var n=o.pop();return n.x===a[0]&&n.y===a[1]?{v:X(n)}:i[n.y*t.gridWidth+n.x]?"continue":(i[n.y*t.gridWidth+n.x]=!0,void e.forEach((function(e){if(Y(n.x,n.y,e,t)){var r={x:n.x+e[0],y:n.y+e[1]},i=1===Math.abs(r.x-t.currentPlayerLocation[0])&&r.y===t.currentPlayerLocation[1],l=1===Math.abs(r.y-t.currentPlayerLocation[1])&&r.x===t.currentPlayerLocation[0],c=r.x===t.currentPlayerLocation[0]&&r.y===t.currentPlayerLocation[1];if(!i&&!l&&!c){var s=n.g+100,u=G([r.x,r.y],a),h=new J(r.x,r.y,0,n,e,s,u);K(h,o)}}})))};;){var c=l();switch(c){case"continue":continue;default:if("object"===typeof c)return c.v}}}(r,e,t);var a=e.currentPlayerLocation,i=e.currentChickenLocation,o=!1,l=null,c=0;if(a[0]===i[0]&&a[1]===i[1])return[0,0];var s=[100,100,100,100,144,141,141,141],u=Object(x.a)(new Array(e.gridWidth*e.gridHeight)).map((function(){return new Array(t.playerMaxHealth).fill(!1)})),h=[];h.push(new J(a[0],a[1],e.currentPlayerHealth,null,null,0,G(a,i)));for(var p=function(){if(0===h.length)return o?{v:X(l)}:{v:[0,0]};var n=h.pop();if(n.x===i[0]&&n.y===i[1]){if(n.health===t.playerMaxHealth||t.searchPriority===F)return{v:X(n)};n.health>c&&(o=!0,c=n.health,l=n)}return u[n.y*e.gridWidth+n.x][n.health-1]?"continue":(u[n.y*e.gridWidth+n.x][n.health-1]=!0,n.health<=0?"continue":void r.forEach((function(r,a){if(Y(n.x,n.y,r,e)){var o={x:n.x+r[0],y:n.y+r[1]},l=n.g+s[a],c=G([o.x,o.y],i),u=e.overLayMap[o.y*e.gridWidth+o.x]===g.HEALTH_PACK,p=e.texturesMap[o.y*e.gridWidth+o.x]===g.FIRE,d=u?t.playerMaxHealth:p?n.health-1:n.health;p&&!u&&(l+=20);var f=new J(o.x,o.y,d,n,r,l,c);K(f,h)}})))};;){var d=p();switch(d){case"continue":continue;default:if("object"===typeof d)return d.v}}},$=n(46),Q=n(260),ee=n(262),te=n(74),ne=n.n(te);function re(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ae(){var e=Object(y.a)(["\n  width: 50px;\n  height: 50px;\n  border-radius: 10px;\n  cursor: pointer;\n"]);return ae=function(){return e},e}function ie(){var e=Object(y.a)(["\n  color: white !important;\n  margin-bottom: 5px;\n"]);return ie=function(){return e},e}function oe(){var e=Object(y.a)(["\n  position: absolute !important;\n  transform: ",";\n  transition: transform 1s;\n  left: 68px;\n  top: 25px;\n"]);return oe=function(){return e},e}function le(){var e=Object(y.a)(["\n  width: 80px;\n  height: 380px;\n  position: absolute;\n  display: flex;\n  padding: 15px 0;\n  justify-content: space-between;\n  align-items: center;\n  flex-direction: column;\n  left: ","px;\n  transition: left 1s;\n  top: ","px;\n  border-radius: 10px;\n  z-index: 6;\n  background-color: ",";\n"]);return le=function(){return e},e}function ce(){var e=Object(y.a)(["\n  border-radius: 20px !important;\n"]);return ce=function(){return e},e}function se(){var e=Object(y.a)(["\n  flex: 1;\n  position: relative;\n  background: #81ba44;\n"]);return se=function(){return e},e}var ue=v.a.div(se()),he=Object(v.a)($.a)(ce()),pe=v.a.div(le(),(function(e){return e.expanded?0:-70}),(function(e){return e.top}),N.SECONDARY_APP_COLOR),de=Object(v.a)($.a)(oe(),(function(e){return"true"===e.expanded?"rotateZ(-180deg)":""})),fe=Object(v.a)(Q.a.Text)(ie()),me=v.a.img(ae()),ye=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={texturesMap:[],overLayMap:[],edits:[],modalMessage:"",showModal:!1,gridWidth:0,editorExpanded:!0,finishAfterNextAnimation:!1,gridHeight:0,xOffset:0,yOffset:0,initialPlayerLocation:null,currentPlayerLocation:null,initialChickenLocation:null,currentChickenLocation:null,currentPlayerHealth:e.playerMaxHealth,currentChickenHealth:e.chickenMaxHealth,leftMouseDown:!1,rightMouseDown:!1},n.onMouseDown=n.onMouseDown.bind(Object(f.a)(n)),n.onMouseUp=n.onMouseUp.bind(Object(f.a)(n)),n.onMouseHoverTextureEnter=n.onMouseHoverTextureEnter.bind(Object(f.a)(n)),n.onMouseHoverTextureLeave=n.onMouseHoverTextureLeave.bind(Object(f.a)(n)),n.onPlaceCharacter=n.onPlaceCharacter.bind(Object(f.a)(n)),n.handleHoverWhilePlacingCharacter=n.handleHoverWhilePlacingCharacter.bind(Object(f.a)(n)),n.getNextCharacterAction=n.getNextCharacterAction.bind(Object(f.a)(n)),n.setCharacterCurrentHealth=n.setCharacterCurrentHealth.bind(Object(f.a)(n)),n.onCharacterFinishMove=n.onCharacterFinishMove.bind(Object(f.a)(n)),n.updateURL=n.updateURL.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"setCharacterCurrentHealth",value:function(e,t){var n=e.charAt(0).toUpperCase()+e.slice(1);this.setState(Object(s.a)({},"current"+n+"Health",t))}},{key:"onMouseDown",value:function(e,t,n){var r=this;e.persist(),0===e.button||"touchstart"===e.type?this.setState({leftMouseDown:!0},(function(){r.onMouseHoverTextureEnter(e,t,n)})):2===e.button&&this.setState({rightMouseDown:!0},(function(){r.onMouseHoverTextureEnter(e,t,n)}))}},{key:"onPlaceCharacter",value:function(){this.props.setSelectedEditTexture(null)}},{key:"onMouseUp",value:function(e){this.setState({leftMouseDown:!1,rightMouseDown:!1})}},{key:"handleHoverWhilePlacingCharacter",value:function(e,t,n){e===g.CHICKEN_IDLE&&(this.resetCharactersLocation(_),this.setState({initialChickenLocation:[t,n],currentChickenLocation:[t,n]})),e===g.PLAYER_IDLE&&(this.resetCharactersLocation(A),this.setState({initialPlayerLocation:[t,n],currentPlayerLocation:[t,n]}))}},{key:"resetCharactersLocation",value:function(e){if(e===A){var t=document.getElementById(A);t.style.left=0,t.style.top=0}else{var n=document.getElementById(_);n.style.left=0,n.style.top=0}}},{key:"handleFollowCursor",value:function(e,t){this.resetCharactersLocation(_),this.setState({initialChickenLocation:[e,t],currentChickenLocation:[e,t]})}},{key:"updateURL",value:function(){var e={playerSpeed:this.props.playerSpeed,playerMaxHealth:this.props.playerMaxHealth,initialTexturesMap:this.state.texturesMap,searchPriority:this.props.searchPriority,allowDiagonalActions:this.props.allowDiagonalActions,initialOverLayMap:this.state.overLayMap,minHeight:window.screen.height,minWidth:window.screen.width,chickenSpeed:this.props.chickenSpeed,textureSize:this.props.textureSize,firstRenderPlayerLocation:this.state.initialPlayerLocation,firstRenderChickenLocation:this.state.initialChickenLocation};window.history.replaceState({},null,"?"+ne.a.stringify(e,{arrayFormat:"comma"}))}},{key:"onMouseHoverTextureEnter",value:function(e,t,n,r){var a=this.props,i=a.selectedEditTexture,o=a.editing,l=a.followCursor,c=a.textureSize,u=this.state,h=u.texturesMap,p=u.leftMouseDown,d=u.rightMouseDown,f=u.edits,m=u.overLayMap,y=u.xOffset,v=u.yOffset,E=u.gridWidth,b=u.gridHeight,S=0,O=!0;if("touchmove"===e.type){var k=Math.floor((e.touches[0].pageX-y)/c),w=Math.floor((e.touches[0].pageY-v)/c);if(k>=E||w>=b)return;S=w*E+k,O=C(k,w,E,b)}else S=n*E+t,O=C(t,n,E,b);if(!O)if(i===g.PLAYER_IDLE||i===g.CHICKEN_IDLE)this.handleHoverWhilePlacingCharacter(i,t,n);else if(o)if(null===e.target||L(window)||(e.target.parentElement.parentElement.style.border=N.EDITING_BORDER),p){if(i===g.HEALTH_PACK){if(m[S]!==g.HEALTH_PACK||"touchstart"===e.type){var M=m.slice();M[S]=m[S]===g.HEALTH_PACK?g.TRANSPARENT:g.HEALTH_PACK,this.setState({overLayMap:M,leftMouseDown:!L(window)&&p,edits:[].concat(Object(x.a)(f),[{type:D,texture:m[S],x:t,y:n}])})}}else if(h[S]!==i){var P=h.slice();P[S]=i,this.setState({texturesMap:P,edits:[].concat(Object(x.a)(f),[{type:z,texture:h[S],x:t,y:n}])})}}else if(d){var T={},H=Object(x.a)(f),j=!1;if(m[S]!==g.TRANSPARENT){j=!0;var R=m.slice();R[S]=g.TRANSPARENT,T.overLayMap=R,H.push({type:D,texture:m[S],x:t,y:n})}if(h[S]!==g.FLOOR){j=!0;var A=h.slice();A[S]=g.FLOOR,T.texturesMap=A,H.push({type:z,texture:h[S],x:t,y:n})}j&&(T.edits=H,this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?re(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):re(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},T)))}else r.setMouseOver(!0);else l&&this.handleFollowCursor(t,n)}},{key:"onMouseHoverTextureLeave",value:function(e,t){this.props.editing&&(t.setMouseOver(!1),e.target.parentElement.parentElement.style.border="0")}},{key:"componentDidUpdate",value:function(e){e.textureSize!==this.props.textureSize&&this.initializeGridWithTextureSize(this.props.textureSize),e.playerMaxHealth!==this.props.playerMaxHealth&&this.setState({currentPlayerHealth:this.props.playerMaxHealth})}},{key:"initializeGridWithTextureSize",value:function(e,t,n,r){var a=Math.floor(this.container.offsetWidth/e),i=Math.floor(this.container.offsetHeight/e),o=this.container.offsetWidth%e/2,l=this.container.offsetHeight%e/2,c=void 0!==r&&null!==this.props.firstRenderPlayerLocation?this.props.firstRenderPlayerLocation:[1,1],s=void 0!==r&&null!==this.props.firstRenderChickenLocation?this.props.firstRenderChickenLocation:[a-2,1],u=void 0===t?new Array(a*i).fill(g.FLOOR):new Array(a*i).fill(g.FLOOR).map((function(e,n){return void 0!==t[n]?t[n]:e})),h=void 0===n?new Array(a*i).fill(g.TRANSPARENT):new Array(a*i).fill(g.TRANSPARENT).map((function(e,t){return void 0!==n[t]?n[t]:e}));this.setState({texturesMap:u,overLayMap:h,gridWidth:a,gridHeight:i,xOffset:o,yOffset:l,initialPlayerLocation:c,initialChickenLocation:s,currentPlayerLocation:c,currentChickenLocation:s,currentPlayerHealth:this.props.playerMaxHealth,currentChickenHealth:this.props.chickenMaxHealth,edits:[]}),this.props.envIsReady()}},{key:"getNextCharacterAction",value:function(e){var t=Z(this.state,this.props,e);if(0!==t[0]||0!==t[1])if(e===A){var n=[this.state.currentPlayerLocation[0]+t[0],this.state.currentPlayerLocation[1]+t[1]];this.setState({currentPlayerLocation:n})}else{var r=[this.state.currentChickenLocation[0]+t[0],this.state.currentChickenLocation[1]+t[1]];this.setState({currentChickenLocation:r})}return t}},{key:"undoEdit",value:function(){if(this.state.edits.length>0){var e=this.state.edits.slice(),t=e.pop(),n=t.y*this.state.gridWidth+t.x;if(t.type===z){var r=this.state.texturesMap.slice();r[n]=t.texture,this.setState({texturesMap:r,edits:e})}else if(t.type===D){var a=this.state.overLayMap.slice();a[n]=t.texture,this.setState({overLayMap:a,edits:e})}}}},{key:"componentDidMount",value:function(){var e=this,t=this.props.textureSize>=O(window)&&this.props.textureSize<=S(window),n=this.props.URLParams.minHeight<=window.screen.height&&this.props.URLParams.minWidth<=window.screen.width;t&&n?this.props.initialTexturesMap.length>0&&this.props.initialOverLayMap.length>0?this.initializeGridWithTextureSize(this.props.textureSize,this.props.initialTexturesMap,this.props.initialOverLayMap,!0):this.initializeGridWithTextureSize(this.props.textureSize):(n||void 0===this.props.URLParams.initialTexturesMap||this.setState({showModal:!0,modalMessage:"We could not load the map from the link, the map was created on a screen bigger than the one you are using currently. Try again using a bigger screen."}),this.initializeGridWithTextureSize(this.props.textureSize)),this.props.onRef(this),window.addEventListener("resize",(function(t){e.props.onClickRestart(),e.initializeGridWithTextureSize(e.props.textureSize)})),this.container.oncontextmenu=function(){return!1}}},{key:"onCharacterFinishMove",value:function(e,t){var n=this.state,r=n.overLayMap,a=n.currentPlayerLocation,i=n.currentChickenLocation,o=n.texturesMap,l=e.charAt(0).toUpperCase()+e.slice(1),c=this.state["current"+l+"Location"],s=this.state["current"+l+"Health"],u=c[1]*this.state.gridWidth+c[0];if(o[u]===g.FIRE&&this.setCharacterCurrentHealth(e,s-1),r[u]===g.HEALTH_PACK){var h=r.slice();h[u]=g.TRANSPARENT,this.setState({overLayMap:h}),this.setCharacterCurrentHealth(e,this.props.playerMaxHealth)}this.state.finishAfterNextAnimation&&(this.props.onFinishGame(),this.props.onClickRestart()),a[0]!==i[0]||a[1]!==i[1]||this.props.followCursor||(0===this.props.chickenSpeed?(this.props.onFinishGame(),this.props.onClickRestart()):e===A&&(this.props.onFinishGame(),this.props.onClickRestart()))}},{key:"onSelectCustomLevel",value:function(e){this.initializeGridWithTextureSize(e.textureSize,e.initialTexturesMap,e.initialOverLayMap,!0)}},{key:"onClickTexture",value:function(e){this.props.followCursor&&this.props.onClickPause(),this.props.setEditing(!0),this.props.setSelectedEditTexture(e)}},{key:"onClickRestart",value:function(){this.player.onClickRestart(),this.chicken.onClickRestart(),this.setState({currentPlayerLocation:this.state.initialPlayerLocation,currentChickenLocation:this.state.initialChickenLocation,currentPlayerHealth:this.props.playerMaxHealth,currentChickenHealth:this.props.chickenMaxHealth,finishAfterNextAnimation:!1})}},{key:"render",value:function(){var e=this,t=this.state,n=t.gridWidth,r=t.gridHeight,i=t.xOffset,o=t.yOffset,l=t.texturesMap,c=t.overLayMap,s=t.initialPlayerLocation,u=t.initialChickenLocation,h=t.showModal,p=t.modalMessage,d=t.currentPlayerHealth,f=t.rightMouseDown,m=t.currentPlayerLocation,y=t.currentChickenLocation,x=t.leftMouseDown,v=t.editorExpanded,b=this.props,S=b.textureSize,O=b.inProgress,C=b.paused,L=b.followCursor,k=b.editing,w=b.selectedEditTexture,M=b.playerSpeed,P=b.setEditing,T=b.playerMaxHealth,H=b.chickenSpeed;return a.a.createElement(ue,{onMouseLeave:function(){return x||f?e.onMouseUp:null},ref:function(t){return e.container=t}},a.a.createElement(ee.a,{closable:!1,footer:[a.a.createElement($.a,{type:"primary",onClick:function(){return e.setState({showModal:!1})}},"Ok")],title:"Sorry",visible:h},p),a.a.createElement(pe,{top:void 0!==this.container?this.container.offsetHeight/2:0,expanded:v},a.a.createElement(de,{expanded:v?"true":"false",onClick:function(){return e.setState({editorExpanded:!v})},size:"small",shape:"circle",icon:"arrow-right"}),a.a.createElement(me,{onClick:function(){return e.onClickTexture(22)},src:E[g.FLOOR].icon}),a.a.createElement(fe,null,"Floor"),a.a.createElement(me,{onClick:function(){return e.onClickTexture(g.FIRE)},src:E[g.FIRE].icon}),a.a.createElement(fe,null,"Fire"),a.a.createElement(me,{onClick:function(){return e.onClickTexture(g.WALL)},src:E[g.WALL].icon}),a.a.createElement(fe,null,"Rock"),a.a.createElement(me,{onClick:function(){return e.onClickTexture(g.HEALTH_PACK)},src:E[g.HEALTH_PACK].icon}),a.a.createElement(fe,null,"Health"),a.a.createElement(he,{onClick:function(){P(!1),e.setState({editorExpanded:!1})},size:"small"},"Done")),l.map((function(t,l){var s=l%n,u=Math.floor(l/n),h=c[l],p=0===s,d=s===n-1,f=0===u,m=u===r-1,y=m||f||d||p,x="FLOOR",v="FLOOR";return y&&(f&&(x+="_TOP"),m&&(x+="_BOTTOM"),p&&(x+="_LEFT"),d&&(x+="_RIGHT"),v=g[x]),[a.a.createElement(R,{x:s,y:u,key:l+"texture",textureSize:S,xOffset:i,zIndex:1,yOffset:o,texture:y?v:t}),a.a.createElement(R,{x:s,y:u,key:l+"overLay",onMouseHoverTextureEnter:function(t,n){return e.onMouseHoverTextureEnter(n,s,u,t)},onMouseHoverTextureLeave:function(t,n){return e.onMouseHoverTextureLeave(n,t)},selectedEditTexture:w,editing:k,textureSize:S,onMouseDown:function(t){return e.onMouseDown(t,s,u)},zIndex:2,onMouseUp:e.onMouseUp,xOffset:i,yOffset:o,texture:h})]})),a.a.createElement(B,{xOffset:i,yOffset:o,onRef:function(t){return e.chicken=t},onPlaceCharacter:this.onPlaceCharacter,initialCharacterLocation:u,textureSize:S,movementSpeed:H,onCharacterFinishMove:this.onCharacterFinishMove,inProgress:O,paused:C,getNextAction:this.getNextCharacterAction,otherCharacterLocation:m,renderOnScreen:!L,type:_,zIndex:4}),a.a.createElement(B,{xOffset:i,yOffset:o,onRef:function(t){return e.player=t},onPlaceCharacter:this.onPlaceCharacter,initialCharacterLocation:s,textureSize:S,movementSpeed:M,inProgress:O,paused:C,otherCharacterLocation:y,getNextAction:this.getNextCharacterAction,onCharacterFinishMove:this.onCharacterFinishMove,currentHealth:d,maxHealth:T,renderOnScreen:!0,healthBar:!0,type:A,zIndex:5}))}}]),t}(r.Component),xe=n(261),ve=n(66),ge=n(259),Ee=n(264),be=n(263),Se="1100px",Oe="900px",Ce="720px",Le="960px",ke="820px",we="700px";function Me(){var e=Object(y.a)(["\n  margin: ",";\n  font-size: ",";\n  @media (max-height: ",") {\n    font-size: 25px !important;\n  }\n  height: fit-content !important;\n  width: fit-content !important;\n  &:focus,\n  &:active {\n    color: white !important;\n  }\n  &:hover {\n    color: #40a9ff !important;\n  }\n"]);return Me=function(){return e},e}function Pe(){var e=Object(y.a)(["\n  width: 60%;\n  @media (max-width: ",") {\n    width: 100%;\n  }\n  display: flex;\n  flex-direction: column;\n"]);return Pe=function(){return e},e}function Te(){var e=Object(y.a)(["\n  color: white !important;\n"]);return Te=function(){return e},e}function He(){var e=Object(y.a)(["\n  width: 100%;\n  margin-bottom: 60px;\n  @media (max-width: ",") {\n    margin-bottom: 0;\n  }\n  display: flex;\n  align-items: center;\n"]);return He=function(){return e},e}function je(){var e=Object(y.a)(["\n  width: 70%;\n  display: inline-block;\n  min-width: 50px;\n  margin: 0 !important;\n"]);return je=function(){return e},e}function Re(){var e=Object(y.a)(["\n  margin-left: 6px;\n  margin-right: 6px;\n  display: inline-block;\n  width: 20%;\n  color: white !important;\n"]);return Re=function(){return e},e}function Ae(){var e=Object(y.a)(["\n  display: flex;\n  height: 100%;\n  justify-content: flex-start;\n  align-items: flex-start;\n  margin: auto;\n  flex-direction: column;\n  flex-grow: 1;\n  align-self: flex-end;\n  padding-top: 30px;\n"]);return Ae=function(){return e},e}function _e(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  margin: auto;\n  flex-direction: column;\n  align-self: center;\n  flex-grow: 0.3;\n"]);return _e=function(){return e},e}function De(){var e=Object(y.a)(["\n  display: flex;\n  justify-content: flex-start;\n  align-items: flex-end;\n  flex-direction: column;\n  flex-grow: 1;\n  height: 100%;\n  align-self: flex-start;\n  padding-top: 30px;\n"]);return De=function(){return e},e}function ze(){var e=Object(y.a)(["\n  @media (max-height: ",") {\n    height: 35px !important;\n  }\n  @media (max-height: ",") {\n    height: 30px !important;\n  }\n  @media (max-height: ",") {\n    height: 25px !important;\n  }\n  border-radius: 20px !important;\n  height: 43px !important;\n"]);return ze=function(){return e},e}function Ie(){var e=Object(y.a)(["\n  display: inline-block;\n"]);return Ie=function(){return e},e}function Fe(){var e=Object(y.a)(["\n  color: white !important;\n"]);return Fe=function(){return e},e}function Ne(){var e=Object(y.a)(["\n  width: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 10px;\n  @media (max-height: ",") {\n    margin-bottom: 6px;\n  }\n  @media (max-height: ",") {\n    margin-bottom: 4px;\n  }\n  @media (max-height: ",") {\n    margin-bottom: 2px;\n  }\n"]);return Ne=function(){return e},e}function We(){var e=Object(y.a)(["\n  position: absolute;\n  top: 35%;\n  width: 100%;\n  display: flex;\n  left: 0;\n  padding: 0 24px 0 24px;\n  justify-content: space-between;\n"]);return We=function(){return e},e}function Ue(){var e=Object(y.a)(["\n  width: 100%;\n  height: 230px;\n  object-fit: cover;\n"]);return Ue=function(){return e},e}function Be(){var e=Object(y.a)(["\n  font-size: 15px;\n"]);return Be=function(){return e},e}function Ge(){var e=Object(y.a)(["\n  width: 100%;\n  height: fit-content;\n  background-color: ",";\n  justify-content: center;\n  display: flex;\n  align-items: center;\n  padding-top: 15px;\n  @media (max-height: ",") {\n    font-size: 11px;\n  }\n  @media (max-width: ",") {\n    font-size: 11px;\n  }\n"]);return Ge=function(){return e},e}var Ye=v.a.div(Ge(),N.MAIN_APP_COLOR,ke,Oe),Ke=Object(v.a)(Q.a.Text)(Be()),Xe=v.a.img(Ue()),Ve=v.a.div(We()),qe=v.a.div(Ne(),Le,ke,we),Je=Object(v.a)(Q.a.Text)(Fe()),Ze=Object(v.a)($.a)(Ie()),$e=Object(v.a)($.a)(ze(),Le,ke,we),Qe=v.a.div(De()),et=v.a.div(_e()),tt=v.a.div(Ae()),nt=Object(v.a)(Q.a.Text)(Re()),rt=Object(v.a)(xe.a)(je()),at=v.a.div(He(),Ce),it=Object(v.a)(Q.a.Title)(Te()),ot=v.a.div(Pe(),Se),lt=Object(v.a)($.a)(Me(),(function(e){return e.margin}),(function(e){return e.fontSize+"px !important"}),Le),ct=function(e,t){var n=[a.a.createElement(nt,{key:"playerMaxHealthLabel"},t?"player Max Health":"Max Health"),a.a.createElement(rt,{key:"playerMaxHealthSlider",onChange:function(t){return e.setCharacterMaxHealth(A,t)},value:e.playerMaxHealth,disabled:e.inProgress,min:1,max:10,step:1,tooltipPlacement:"top"})];return t?n:a.a.createElement(ve.a,{placement:"topLeft",title:"Changes The player Max Health "},a.a.createElement(at,null,n.map((function(e){return e}))))},st=function(e,t){var n=[a.a.createElement(nt,{key:"playerSpeedLabel"},t?"player Speed":"Speed"),a.a.createElement(rt,{key:"playerSpeedSlider",onChange:function(t){return e.setCharacterSpeed(A,t)},value:e.playerSpeed,min:1,max:4,step:1,tooltipPlacement:"top"})];return t?n:a.a.createElement(ve.a,{placement:"topLeft",title:"Changes The player Movement Speed"},a.a.createElement(at,null,n.map((function(e){return e}))))},ut=function(e,t){var n=[a.a.createElement(nt,{key:"chickenSpeedLabel"},t?"Chicken Speed":"Speed"),a.a.createElement(rt,{key:"chickenSpeedSlider",onChange:function(t){return e.setCharacterSpeed(_,t)},value:e.chickenSpeed,min:0,max:4,disabled:!1,step:1,tooltipPlacement:"top"})];return t?n:a.a.createElement(ve.a,{placement:"topLeft",title:"Chicken AI Coming Soon!"},a.a.createElement(at,null,n.map((function(e){return e}))))},ht=function(e){function t(e){var n;return Object(u.a)(this,t),(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).state={minTextureSize:O(window),maxTextureSize:S(window),showTutorial:!1,showModal:!1},n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=this;window.addEventListener("resize",(function(t){e.setState({minTextureSize:O(window),maxTextureSize:S(window)})}))}},{key:"copyLinkToClipBoard",value:function(){var e=document.getElementById("shareLinkInput");e.select(),e.setSelectionRange(0,99999),document.execCommand("copy")}},{key:"render",value:function(){var e=this,t=window.screen.width<=parseInt(Ce,10),n=window.screen.height<=parseInt(ke,10),r=this.props,i=this.state,o=i.minTextureSize,l=i.maxTextureSize,c=i.showModal,s=i.showTutorial;return a.a.createElement(Ye,null,a.a.createElement(ee.a,{onCancel:function(){return e.setState({showTutorial:!1})},closable:!0,footer:null,visible:s,title:null,bodyStyle:{padding:"10px"}},a.a.createElement(Q.a.Title,{style:{textAlign:"center"},level:4},"Run Chicken!!"),a.a.createElement(Ve,null,a.a.createElement($.a,{style:{zIndex:1},ghost:!0,type:"link",shape:"circle",onClick:function(){return e.carousel.prev()},icon:"left"}),a.a.createElement($.a,{style:{zIndex:1},ghost:!0,onClick:function(){return e.carousel.next()},type:"link",shape:"circle",icon:"right"})),a.a.createElement(ge.a,{dots:!1,ref:function(t){return e.carousel=t}},a.a.createElement("div",null,a.a.createElement(Xe,{src:"Grid.PNG"}),a.a.createElement(Ke,null,a.a.createElement("br",null),"The goal of the player is to catch the chicken. He uses A* to update the optimal path in realtime.",a.a.createElement("br",null),a.a.createElement("br",null),"The chicken is invincible to the camp fires, but the player has a health bar and he needs to be smart if he wants to catch that chicken.")),a.a.createElement("div",null,a.a.createElement(Xe,{src:"Editor.PNG"}),a.a.createElement(Ke,null,a.a.createElement("br",null),"You can edit the map while the game is running through the editor on the left of the screen, simply click on the texture you wont to add and drag your mouse to draw.",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("b",null,"Hint"),": You can use right click to delete anything on the map.")),a.a.createElement("div",null,a.a.createElement(Xe,{src:"Options.PNG"}),a.a.createElement(Ke,null,a.a.createElement("br",null),"These are the options that control how the AI behaves, you can control the speed of the either the chicken or the player and how much health the player has.")),a.a.createElement("div",null,a.a.createElement(Xe,{src:"ControlPanel.PNG"}),a.a.createElement(Ke,null,a.a.createElement("br",null),"This is where you control the game.",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("b",null,"Place Chicken/Player"),": Set the starting position of the chicken/player.",a.a.createElement("br",null)," ",a.a.createElement("b",null,"Undo Edit"),": Undo your last edit to the map.",a.a.createElement("br",null),a.a.createElement("b",null,"Share Map"),": Share the current map with a friend through a link.",a.a.createElement("br",null)," ",a.a.createElement("b",null,"Follow Cursor"),": Replace the chicken with your mouse, and the player will follow it in real time.",a.a.createElement("br",null),a.a.createElement("br",null),a.a.createElement("b",null,"Hint"),": You can use the space bar to start, resume and pause the game.")),a.a.createElement("div",null,a.a.createElement(Xe,{src:"MapOptions.PNG"}),a.a.createElement(Ke,null,a.a.createElement("br",null),"This is where you control the map options",a.a.createElement("br",null),a.a.createElement("br",null)," ",a.a.createElement("b",null,"Map Scale"),": How big is the grid.",a.a.createElement("br",null)," ",a.a.createElement("b",null,"Pre Made Levels"),": Load any pre-made levels created by the developers.",a.a.createElement("br",null)," ",a.a.createElement("b",null,"search Priority"),": Weather the player cares more about health or speed."))),a.a.createElement("div",null)),a.a.createElement(ee.a,{closable:!1,footer:[a.a.createElement($.a,{key:1,type:"primary",onClick:function(){return e.setState({showModal:!1})}},"Ok")],visible:c,title:"Share Your Map!"},a.a.createElement(Q.a.Text,null,"Copy This Link and Send it To your Friends"),a.a.createElement("div",null,a.a.createElement(Ee.a,{id:"shareLinkInput",style:{margin:"20px 20px 20px 0",width:"80%"},defaultValue:window.location.href}),a.a.createElement($.a,{onClick:function(){return e.copyLinkToClipBoard()},type:"secondary"},"Copy")),a.a.createElement(Q.a.Text,{type:"secondary"},"Note that your friend's screen needs to be at least as big as your screen to maintain the shape of the map!")),t?null:a.a.createElement(Qe,null,a.a.createElement(ot,null,a.a.createElement(qe,null,a.a.createElement(it,{level:4},"Player Options")),ct(r,!1),st(r,!1))),a.a.createElement(et,null,a.a.createElement(qe,null,a.a.createElement(ve.a,{placement:"top",title:"The player Will Follow The Mouse Cursor on The Screen"},a.a.createElement($e,{onClick:function(){r.setEditing(!1),r.followCursor?r.onClickRestart():r.enableFollowCursor()},style:{margin:"0"}},"Follow Cursor"))),a.a.createElement(qe,null,a.a.createElement(ve.a,{placement:"left",title:"Undo The Last Edit to The Map"},a.a.createElement($e,{onClick:function(){return r.onClickUndo()},style:{margin:"0 15px 0 0"}},"Undo Edit")),function(e){return e.inProgress?a.a.createElement("div",null,a.a.createElement(lt,{disabled:!e.ready,type:"link",fontSize:30,onClick:function(){e.followCursor&&e.setEditing(!1),e.paused?e.onClickResume():e.onClickPause()},ghost:!0,margin:"0 4px 0 15px",icon:e.paused?"play-circle":"pause-circle"}),a.a.createElement(lt,{disabled:!e.ready,type:"link",fontSize:30,onClick:function(){return e.onClickRestart()},margin:"0 15px 0 4px",ghost:!0,icon:"stop"})):a.a.createElement(lt,{disabled:!e.ready,type:"link",ghost:!0,fontSize:35,margin:"0 15px 0 15px",onClick:function(){e.generateLink(),e.onClickStart()},icon:"play-circle"})}(r),a.a.createElement(ve.a,{placement:"right",title:"Share This Map With a Friend"},a.a.createElement($e,{onClick:function(){r.generateLink(),e.setState({showModal:!0})},style:{margin:"0 0 0 15px"}},"Share Map"))),a.a.createElement(qe,null,a.a.createElement(ve.a,{placement:"left",title:"Position The Start Location of The player"},a.a.createElement($e,{onClick:function(){return r.setSelectedEditTexture(g.PLAYER_IDLE)},style:{margin:"0 10px 0 0"}},"Place Player")),a.a.createElement(ve.a,{placement:"right",title:"Position The Start Location of The Chicken"},a.a.createElement($e,{onClick:function(){return r.setSelectedEditTexture(g.CHICKEN_IDLE)},style:{margin:"0 0 0 10px"}},"Place Chicken"))),a.a.createElement(ve.a,{placement:"right",title:"Changes The Grid Size"},a.a.createElement(qe,null,a.a.createElement(nt,null,"Map Scale"),a.a.createElement(rt,{min:o,max:l,onChange:r.setTextureSize,disabled:r.inProgress,value:r.textureSize,tooltipPlacement:"top"}))),t?[a.a.createElement(ve.a,{key:1,placement:"topLeft",title:"Changes The player Max Health"},a.a.createElement(qe,null,ct(r,!0))),a.a.createElement(ve.a,{key:2,placement:"topLeft",title:"Changes The player Movement Speed"},a.a.createElement(qe,null,st(r,!0))),a.a.createElement(ve.a,{key:3,placement:"topLeft",title:"Chicken AI Coming Soon!"},a.a.createElement(qe,null,ut(r,!0)))]:null,a.a.createElement(ve.a,{placement:"right",title:"Loads a Pre Made Level Created By The Developer"},a.a.createElement(qe,null,a.a.createElement(nt,{style:{width:"30%"}},"Pre made Levels"),a.a.createElement(be.a.Group,{value:r.selectedLevel,size:n||t?"small":"default",onChange:function(e){return r.setSelectedLevel(e.target.value)}},a.a.createElement(be.a.Button,{value:1},"1"),a.a.createElement(be.a.Button,{value:2},"2"),a.a.createElement(be.a.Button,{value:3},"3"),a.a.createElement(be.a.Button,{value:4},"4"),a.a.createElement(be.a.Button,{value:5},"5"),a.a.createElement(be.a.Button,{value:6},"6")))),a.a.createElement(ve.a,{placement:"right",title:"Changes Wether The player Maximizes Health or Minimizes Distance"},a.a.createElement(qe,null,a.a.createElement(nt,{style:{width:"30%"}},"Search Priority"),a.a.createElement(be.a.Group,{size:n||t?"small":"default",value:r.searchPriority,onChange:function(e){return r.setSearchPriority(e.target.value)}},a.a.createElement(be.a.Button,{value:I},"HEALTH"),a.a.createElement(be.a.Button,{value:F},"SPEED")))),a.a.createElement(Je,null,"Made By Mark Armanious \xa9 2019"),a.a.createElement("div",null,a.a.createElement(Ze,{shape:"circle",ghost:!0,icon:"question-circle",type:"link",onClick:function(){return e.setState({showTutorial:!0})}}),a.a.createElement(Ze,{href:"https://github.com/markarmanus/runChicken",target:"_blank",shape:"circle",ghost:!0,icon:"github",type:"link"}))),t?null:a.a.createElement(tt,null,a.a.createElement(ot,null,a.a.createElement(qe,null,a.a.createElement(it,{level:4},"Chicken Options")),ut(r,!1))))}}]),t}(r.Component),pt={1:"chickenSpeed=0&firstRenderChickenLocation=4,1&firstRenderPlayerLocation=1,1&initialOverLayMap=13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13&initialTexturesMap=22,22,22,22,22,22,22,22,11,11,22,22,22,2,11,11,22,22,22,2,22,22,22,22,22,22,22,22,22,22&minHeight=640&minWidth=360&playerMaxHealth=4&playerSpeed=1&searchPriority=health&textureSize=52",2:"allowDiagonalActions=false&firstRenderPlayerLocation=0,0&firstRenderChickenLocation=28,0&initialOverLayMap=13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13&initialTexturesMap=1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,2,1,1,2,1,1,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,2,2,2,2,1,2,1,2,1,2,2,2,2,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,1,2,2,2,2,1,2,2,2,1,2,2,2,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,2,2,2,1,2,1,1,2,1,2,2,1,1,2,1,2,2,1,1,1,1,1,1,1,1,1,2,1,1,1,2,2,1,2,1,2,2,1,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,2,2,1,1,1,2,1,2,1,2,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,2,1,2,1,2,2,2,1,1,1,1,2,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,2,1,1,1,1,1,1,2,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1&playerMaxHealth=5&playerSpeed=1&searchPriority=health&textureSize=66&chickenSpeed=1",3:"minWidth=1920&minHeight=600&allowDiagonalActions=true&firstRenderPlayerLocation=3,0&firstRenderChickenLocation=5,0&initialOverLayMap=13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13&initialTexturesMap=1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1&playerMaxHealth=10&playerSpeed=2&searchPriority=speed&textureSize=197&chickenSpeed=3",4:"http://localhost:3000/?allowDiagonalActions=true&firstRenderPlayerLocation=0,0&firstRenderChickenLocation=11,0&initialOverLayMap=13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13&initialTexturesMap=1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1&minHeight=937&minWidth=1920&playerMaxHealth=10&playerSpeed=3&searchPriority=speed&textureSize=159&chickenSpeed=3",5:"allowDiagonalActions=false&firstRenderPlayerLocation=3,2&firstRenderChickenLocation=5,0&initialOverLayMap=13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13,13&initialTexturesMap=1,1,1,1,1,1,1,1,1,2,2,2,2,2,2,2,2,2,1,1,1,1,1,1,1,1,1&playerMaxHealth=10&playerSpeed=4&searchPriority=health&textureSize=211&chickenSpeed=1"},dt=n(265);n(256);function ft(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function mt(){var e=Object(y.a)(["\n  display: flex;\n  flex-flow: column;\n  height: 100%;\n"]);return mt=function(){return e},e}var yt=v.a.div(mt()),xt=function(e){function t(e){var n;Object(u.a)(this,t);var r=(n=Object(p.a)(this,Object(d.a)(t).call(this,e))).parseLevelData(n.props.location.search);return n.state={textureSize:r.textureSize?r.textureSize:b(window),selectedEditTexture:null,editing:!1,selectedLevel:N.DEFAULT_SELECTED_LEVEL,inProgress:!1,URLParams:r,paused:!1,ready:!1,followCursor:!1,initialTexturesMap:r.initialTexturesMap?r.initialTexturesMap:[],initialOverLayMap:r.initialOverLayMap?r.initialOverLayMap:[],playerSpeed:r.playerSpeed?r.playerSpeed:N.DEFAULT_PLAYER_SPEED,firstRenderPlayerLocation:r.firstRenderPlayerLocation?r.firstRenderPlayerLocation:null,firstRenderChickenLocation:r.firstRenderChickenLocation?r.firstRenderChickenLocation:null,playerMaxHealth:r.playerMaxHealth?r.playerMaxHealth:N.DEFAULT_PLAYER_HEALTH,searchPriority:r.searchPriority?r.searchPriority:N.DEFAULT_SEARCH_PRIORITY,chickenSpeed:r.chickenSpeed?r.chickenSpeed:N.DEFAULT_CHICKEN_SPEED},n.onClickUndo=n.onClickUndo.bind(Object(f.a)(n)),n.setTextureSize=n.setTextureSize.bind(Object(f.a)(n)),n.setSelectedEditTexture=n.setSelectedEditTexture.bind(Object(f.a)(n)),n.setEditing=n.setEditing.bind(Object(f.a)(n)),n.onClickStart=n.onClickStart.bind(Object(f.a)(n)),n.onClickRestart=n.onClickRestart.bind(Object(f.a)(n)),n.onClickPause=n.onClickPause.bind(Object(f.a)(n)),n.onClickResume=n.onClickResume.bind(Object(f.a)(n)),n.setCharacterSpeed=n.setCharacterSpeed.bind(Object(f.a)(n)),n.envIsReady=n.envIsReady.bind(Object(f.a)(n)),n.enableFollowCursor=n.enableFollowCursor.bind(Object(f.a)(n)),n.setCharacterMaxHealth=n.setCharacterMaxHealth.bind(Object(f.a)(n)),n.setSearchPriority=n.setSearchPriority.bind(Object(f.a)(n)),n.onFinishGame=n.onFinishGame.bind(Object(f.a)(n)),n.generateLink=n.generateLink.bind(Object(f.a)(n)),n.setAllowDiagonalActions=n.setAllowDiagonalActions.bind(Object(f.a)(n)),n.setSelectedLevel=n.setSelectedLevel.bind(Object(f.a)(n)),n.parseLevelData=n.parseLevelData.bind(Object(f.a)(n)),n}return Object(m.a)(t,e),Object(h.a)(t,[{key:"parseLevelData",value:function(e){return ne.a.parse(e,{arrayFormat:"comma",parseNumbers:!0,parseBooleans:!0})}},{key:"setSelectedLevel",value:function(e){var t=this,n=this.parseLevelData(pt[e]);n.minHeight<=window.screen.height&&n.minWidth<=window.screen.width?this.setState(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ft(n,!0).forEach((function(t){Object(s.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ft(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({selectedLevel:e},n),(function(){t.grid.onSelectCustomLevel(n)})):dt.a.error("Your Screen is Too Small For This Map!")}},{key:"componentDidMount",value:function(){var e=this;dt.a.info("Click on The Help Icon At Bottom To Help You Start!"),window.addEventListener("keydown",(function(t){" "===t.key.toLowerCase()&&(!e.state.inProgress&&e.state.ready?e.onClickStart():e.state.inProgress&&e.state.paused?e.onClickResume():e.state.inProgress&&!e.state.paused&&e.onClickPause())}))}},{key:"setAllowDiagonalActions",value:function(e){this.setState({allowDiagonalActions:e})}},{key:"onFinishGame",value:function(){this.setState({inProgress:!1})}},{key:"generateLink",value:function(){this.grid.updateURL()}},{key:"setCharacterMaxHealth",value:function(e,t){this.setState(Object(s.a)({},e+"MaxHealth",t))}},{key:"enableFollowCursor",value:function(){this.state.ready&&this.setState({followCursor:!0,inProgress:!0})}},{key:"setCharacterSpeed",value:function(e,t){this.setState(Object(s.a)({},e+"Speed",t))}},{key:"onClickUndo",value:function(){this.grid.undoEdit()}},{key:"setTextureSize",value:function(e){this.setState({textureSize:e}),this.onClickRestart()}},{key:"envIsReady",value:function(){this.setState({ready:!0})}},{key:"setEditing",value:function(e){this.setState({editing:e})}},{key:"setSelectedEditTexture",value:function(e){var t=null!==e&&e!==g.PLAYER_IDLE&&e!==g.CHICKEN_IDLE;this.setState({selectedEditTexture:e,editing:t})}},{key:"onClickStart",value:function(){this.setState({inProgress:!0})}},{key:"onClickRestart",value:function(){this.setState({paused:!1,inProgress:!1,selectedEditTexture:null,editing:!1,followCursor:!1}),this.grid.onClickRestart()}},{key:"onClickPause",value:function(){this.setState({paused:!0})}},{key:"onClickResume",value:function(){this.setState({paused:!1})}},{key:"setSearchPriority",value:function(e){this.setState({searchPriority:e})}},{key:"render",value:function(){var e=this;return a.a.createElement(yt,null,a.a.createElement(ye,Object.assign({onRef:function(t){return e.grid=t}},this.state,this)),a.a.createElement(ht,Object.assign({},this,this.state)))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(a.a.createElement((function(){return a.a.createElement(l.a,null,a.a.createElement(c.a,{path:"/",component:xt}))}),null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[149,1,2]]]);
//# sourceMappingURL=main.7b2ad297.chunk.js.map